if (self.CavalryLogger) { CavalryLogger.start_js(["QeuN2Vp"]); }

__d("PlatformSharingWebFunnelAnalysisTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:PlatformSharingWebFunnelAnalysisLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:PlatformSharingWebFunnelAnalysisLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:PlatformSharingWebFunnelAnalysisLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setFunnelLoggingInputData=function(a){this.$1.funnel_logging_input_data=a.getJSON();return this};c.setFunnelLoggingReservedFunnelLoggingExtraData=function(a){this.$1.funnel_logging_reserved_funnel_logging_extra_data=b("GeneratedLoggerUtils").serializeMap(a);return this};return a}();c={funnel_logging_input_data:!0,funnel_logging_reserved_funnel_logging_extra_data:!0};e.exports=a}),null);
__d("Token",["fbt","CSS","DOM","DataStore","Locale","UnicodeBidi"],(function(a,b,c,d,e,f,g){a=function(){"use strict";function a(a,b){this.info=a,this.paramName=b}var c=a.prototype;c.getInfo=function(){return this.info};c.getText=function(){return this.info.text};c.getValue=function(){return this.info.uid};c.isFreeform=function(){return!!this.info.freeform};c.setSelected=function(a){b("CSS").conditionClass(this.getElement(),"uiTokenSelected",a);return this};c.getElement=function(){this.element||this.setElement(this.createElement());return this.element};c.setElement=function(a){b("DataStore").set(a,"Token",this);this.element=a;return this};c.isRemovable=function(){return b("CSS").hasClass(this.element,"removable")};c.getTextDirection=function(){var a=b("UnicodeBidi").isDirectionRTL(this.getText()),c=b("Locale").isRTL();if(a&&!c)return"rtl";return!a&&c?"ltr":null};c.createElement=function(a,c){var d=this.paramName,e=this.getValue(),f=this.getText(),h=b("DOM").create("span",{className:"uiTokenText"},f),i=null;this.info.removable!==!1&&(i=b("DOM").create("a",{href:"#","aria-label":g._("{item} \u0915\u093e\u0922\u0942\u0928 \u091f\u093e\u0915\u093e",[g._param("item",f)]),className:"remove uiCloseButton uiCloseButtonSmall"}));a&&b("CSS").addClass(i,"uiCloseButtonSmallGray");e=b("DOM").create("input",{type:"hidden",value:e,name:d+"[]",autocomplete:"off"});f=b("DOM").create("input",{type:"hidden",value:f,name:"text_"+d+"[]",autocomplete:"off"});d={className:"removable uiToken"};var j=this.getTextDirection();j!==null&&(d.dir=j);j=b("DOM").create("span",d,[h,e,f,i]);a&&b("CSS").addClass(j,"uiTokenGray");if(c){d=b("DOM").create("i",{className:c});b("DOM").prependContent(j,d)}return j};return a}();e.exports=a}),null);
__d("WeakToken",["CSS","Token"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.createElement=function(){var c=a.prototype.createElement.call(this,!0,"UFIWeakReferenceIcon");b("CSS").addClass(c,"uiTokenWeakReference");return c};return c}(b("Token"));e.exports=a}),null);
__d("Tokenizer",["Arbiter","ArbiterMixin","CSS","DOM","DOMQuery","DataStore","Event","Focus","Input","Keys","Parent","StickyPlaceholderInput","Style","TextMetrics","Token","UserAgent_DEPRECATED","WeakToken","createObjectFrom","emptyFunction","mixin"],(function(a,b,c,d,e,f){var g=20;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c,d,e){var f;f=a.call(this)||this;f.element=c;f.typeahead=d;f.input=d.getCore().getElement();e&&f.init(e.tokenarea,e.param_name,e.initial_info,e.options);b("DataStore").set(f.element,"Tokenizer",babelHelpers.assertThisInitialized(f));return f}var d=c.prototype;d.init=function(a,c,d,e){this._handleEvents=this.handleEvents.bind(this),this.init=b("emptyFunction"),this.setTokenarea(a),this.paramName=c,this.placeholder||(this.placeholder=this.input.getAttribute("data-placeholder")||this.input.getAttribute("placeholder")||""),Object.assign(this,e),this.initEvents(),this.initTypeahead(),this.reset(d),this.initBehaviors(),setTimeout(this.adjustWidth.bind(this),0),b("Arbiter").inform("Tokenizer/init",this,"persistent"),this.inform("init",{tokens:this.getTokens()})};d.reset=function(a){this.tokens=[],this.unique={},a?this.populate(a):b("DOM").empty(this.tokenarea),this.updateTokenarea()};d.populate=function(a){var c=[];this.tokens=this.getTokenElements().map(function(b,d){d=a[d];c.push(this._tokenKey(d));return this.createToken(d,b)},this);this.unique=b("createObjectFrom")(c,this.tokens)};d.setTokenarea=function(a){var c=!this.tokenarea;if(a!==this.tokenarea){if(this.tokenarea){b("DOM").remove(this.tokenarea);for(var d in this._tokenareaListeners)this._tokenareaListeners[d].remove()}this._tokenareaListeners=b("Event").listen(a,{click:this._handleEvents,keydown:this._handleEvents});this.tokenarea=a}c||this.reset()};d.getElement=function(){return this.element};d.getTypeahead=function(){return this.typeahead};d.getInput=function(){return this.input};d.initBehaviors=function(){this.behaviors=this.behaviors||[];if(this.behaviors instanceof Array)this.behaviors.forEach(function(a){a.behavior(this,a.config)}.bind(this));else for(var a in this.behaviors||{}){var b=window.TokenizerBehaviors&&window.TokenizerBehaviors[a];b.call(null,this,this.behaviors[a])}};d.initTypeahead=function(){var a=this,c=this.typeahead.getCore();c.resetOnSelect=!0;c.setValueOnSelect=!1;c.preventFocusChangeOnTab=!this.typeaheadTabNavigation;if(this.inline){c=this.typeahead.getView();b("CSS").addClass(c.getElement(),"uiInlineTokenizerView")}this.typeahead.subscribe("select",function(b,c){return a.handleSelect(c)});this.typeahead.subscribe("blur",this.handleBlur.bind(this))};d.handleBlur=function(a){this.inform("blur",{event:a}),this.updatePlaceholder()};d.handleSelect=function(a){var b=a.selected;a=a.query;"uid"in b&&(this.updateInput(),this.addToken(this.createToken(b),a))};d.initEvents=function(){var a=b("UserAgent_DEPRECATED").firefox()<4?"keypress":"keydown";b("Event").listen(this.input,"paste",this.paste.bind(this));b("Event").listen(this.input,a,this.keydown.bind(this))};d.handleEvents=function(a){var c=a.getTarget(),d=c&&this.getTokenElementFromTarget(c);if(!d)return;(a.type!="keydown"||b("Event").getKeyCode(a)==b("Keys").RETURN)&&this.processEvents(a,c,d)};d.processEvents=function(a,c,d){if(b("Parent").byClass(c,"remove")){var e=d.nextSibling;e=e&&b("DOMQuery").scry(d.nextSibling,".remove")[0];d=this.getTokenFromElement(d);d=this.addTokenData(d,c);this.removeToken(d);this.focusOnTokenRemoval(a,e);a.kill()}};d.focusOnTokenRemoval=function(a,c){b("Focus").set(a.type=="keydown"&&c||this.input)};d.addTokenData=function(a,b){return a};d.keydown=function(a){this.inform("keydown",{event:a});a=b("Event").getKeyCode(a);var c=this.input;if(this.inline&&a==b("Keys").BACKSPACE&&b("Input").isEmpty(c)){a=this.getLastToken();a&&a.isRemovable()&&this.removeToken(a)}this.updateInput()};d.paste=function(a){this.inform("paste",{event:a}),this.updateInput(!0)};d.focusInput=function(){b("Focus").set(this.input)};d.updateInput=function(a){if(!this.inline)return;setTimeout(function(){this.adjustWidth(this.input.value),a&&(this.input.value=this.input.value)}.bind(this),20);b("StickyPlaceholderInput").setPlaceholderText(this.input,"");this.inform("resize")};d.setStickyPlaceholder=function(a){this.stickyPlaceholder=!0,this.setPlaceholder(a)};d.setPlaceholder=function(a){this.placeholder=a,this.stickyPlaceholder&&b("StickyPlaceholderInput").setPlaceholderText(this.input,a),this.updatePlaceholder()};d.updatePlaceholder=function(){if(!this.inline||this.input.value)return;var a=!this.tokens.length,c="";a||this.stickyPlaceholder?(this.adjustWidth(this.placeholder),c=this.placeholder):this.adjustWidth(this.input.value);b("StickyPlaceholderInput").setPlaceholderText(this.input,c)};d.adjustWidth=function(a){if(!this.inline||!this._getIsInDOM())return;!a&&this.input.value===""&&(a=this.placeholder);var c=g;if(a!==this.placeholder||!this.getTokens().length||this.stickyPlaceholder){var d=b("Style").getFloat(this.getElement(),"width");a=this._getMetrics().measure(a);c=a.width+this._getWidthOffset()+10;c=c>=d?d:c}b("Style").set(this.input,"width",c+"px");this.inform("resize");b("Arbiter").inform("reflow")};d.getToken=function(a){return this.unique[a]||null};d.getTokens=function(){return this.tokens||[]};d.getTokenElements=function(){return b("DOMQuery").scry(this.tokenarea,"span.uiToken")};d.getTokenElementFromTarget=function(a){return b("Parent").byClass(a,"uiToken")};d.getTokenFromElement=function(a){return b("DataStore").get(a,"Token")};d.getTokenValues=function(){return!this.tokens?[]:this.tokens.map(function(a){return a.getValue()})};d.getFirstToken=function(){return this.tokens[0]||null};d.getLastToken=function(){return this.tokens[this.tokens.length-1]||null};d.hasMaxTokens=function(){return this.maxTokens&&this.maxTokens<=this.tokens.length};d.createToken=function(a,c){var d=this.getToken(this._tokenKey(a));d||(d=a.weak_reference?new(b("WeakToken"))(a,this.paramName):new(b("Token"))(a,this.paramName));c&&d.setElement(c);return d};d.addToken=function(a,c){if(this.hasMaxTokens())return;var d=this._tokenKey(a.getInfo());if(d in this.unique)return;this.unique[d]=a;this.tokens.push(a);this.insertToken(a);this.updateTokenarea();this.inform("addToken",a);this.inform("addTokenWithQuery",{token:a,query:c});this.inform("changeTokens");b("Arbiter").inform("Form/change",{node:this.element})};d.insertToken=function(a){b("DOM").appendContent(this.tokenarea,a.getElement())};d.removeToken=function(a){if(!a)return;var c=this.tokens.indexOf(a);if(c<0)return;this.tokens.splice(this.tokens.indexOf(a),1);delete this.unique[this._tokenKey(a.getInfo())];b("DOM").remove(a.getElement());this.updateTokenarea();this.inform("removeToken",a);this.inform("changeTokens");b("Arbiter").inform("Form/change",{node:this.element})};d.removeAllTokens=function(){this.reset(),this.inform("changeTokens"),this.inform("removeAllTokens")};d.updateTokenarea=function(){var a=this.typeahead.getCore(),c=this.getTokenValues();this.excludeDuplicates&&(this._exclusions||(this._exclusions=a.getExclusions()),a.setExclusions(c.concat(this._exclusions)));a.setEnabled(!this.hasMaxTokens());this.updateTokenareaVisibility();this.updatePlaceholder();this.inform("resize");b("Arbiter").inform("reflow")};d.updateTokenareaVisibility=function(){b("CSS").conditionShow(this.tokenarea,this.tokens.length!==0)};d._tokenKey=function(a){return a.uid+(a.freeform?":":"")};d._getWidthOffset=function(){if(this._widthOffset===null){var a=this.input.clientWidth,c=b("Style").getFloat(this.input,"width");a==c?this._widthOffset=b("Style").getFloat(this.input,"paddingLeft")+b("Style").getFloat(this.input,"paddingRight"):this._widthOffset=0}return this._widthOffset};d._getMetrics=function(){this._metrics||(this._metrics=new(b("TextMetrics"))(this.input,this.inline));return this._metrics};d._getIsInDOM=function(){return this._isInDOM||(this._isInDOM=b("DOMQuery").contains(document.body,this.input))};c.getInstance=function(a){a=b("Parent").byClass(a,"uiTokenizer");return a?b("DataStore").get(a,"Tokenizer"):null};c.init=function(a,b){a.init(b.tokenarea,b.param_name,b.initial_info,b.options)};return c}(b("mixin")(b("ArbiterMixin")));Object.assign(a.prototype,{inline:!1,maxTokens:null,excludeDuplicates:!0,placeholder:"",_widthOffset:null,_metrics:null});e.exports=a}),null);
__d("ComposerXTokenizer",["CSS","CurrentUser","DOM","DOMQuery","Token","Tokenizer"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b,c,d){b=a.call(this,b,c,d)||this;b._loadingIndicatorText="";return b}var d=c.prototype;d.createDecorativeToken=function(a,c){var d=new(b("Token"))(a,this.paramName);c=d.createElement(!1,c);d.setElement(c);b("CurrentUser").getID()==a.uid&&b("DOMQuery").scry(c,'input[type="hidden"]').forEach(b("DOM").remove);return d};d.setLoadingIndicatorText=function(a){this._loadingIndicatorText=a};d.addLoadingIndicator=function(){if(this._loadingIndicator)return;this._loadingIndicator=this.createDecorativeToken({text:this._loadingIndicatorText},"loadingIndicator");b("DOM").appendContent(this.tokenarea,this._loadingIndicator.element);this.updateTokenarea()};d.removeToken=function(b){b===this._loadingIndicator?(this.removeLoadingIndicator(),this.inform("removeLoadingIndicator")):a.prototype.removeToken.call(this,b)};d.removeLoadingIndicator=function(){if(!this._loadingIndicator)return;b("DOM").remove(this._loadingIndicator.element);this._loadingIndicator=null;this.updateTokenarea()};d.updateTokenareaVisibility=function(){b("CSS").conditionShow(this.tokenarea,this.tokens.length!==0||this._loadingIndicator)};d.findToken=function(a){a=this._tokenKey(a);return a in this.unique?this.unique[a]:null};d.replaceToken=function(a){var c=this.findToken(a.getInfo());if(c){var d=c.getElement();c.setElement(a.getElement());b("DOM").replace(d,a.getElement());return!0}else{this.addToken(a);return!1}};return c}(b("Tokenizer"));e.exports=a}),null);
__d("ComposerXImplicitLocation",[],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a,b,c,d){this._citySharer=a,this._placeTagger=b,this._hiddenInput=c,this._subscriptions=[],this._subscribeChangeCity(),this._subscribeSelect(),this._subscribeUnselect()}var b=a.prototype;b.cleanup=function(){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe()};b.disable=function(){this._placeTagger.getCore().getValue()||(this._disableImplicit=!0,this._citySharer.saveCityInfo(),this._citySharer.clearCity()),this._placeTagger.getData().setBootstrapEndpoint("/ajax/places/typeahead")};b.enable=function(){this._placeTagger.getCore().getValue()||(this._citySharer.restoreCityInfo(),this._disableImplicit=!1),this._placeTagger.getData().resetBootstrapEndpoint()};b.selectPlace=function(a){a.place_type=="city"&&(this._citySharer.changeCity(a.text,a.uid,a.city_id),this._placeTagger.getCore().setCity(a.city_id,!0)),a.city_id?!this._disableImplicit?this._citySharer.changeCity(a.city_name,a.city_page_id,a.city_id):this._citySharer.setCityData(a.city_name,a.city_page_id,a.city_id):this._citySharer.clearCity(),this._citySharer.addPlace(a)};b.unselectPlace=function(){this._hiddenInput.value=this._citySharer.getValue(),this._citySharer.clearPlace(),this._disableImplicit&&this.disable()};b._subscribeChangeCity=function(){this._subscriptions.push(this._citySharer.subscribe("change",function(a,b){this._placeTagger.getCore().getHiddenValue()||(this._hiddenInput.value=this._citySharer.getValue()),b&&b.city_id&&this._placeTagger.getCore().setCity(b.city_id,!0)}.bind(this)))};b._subscribeSelect=function(){this._subscriptions.push(this._placeTagger.subscribe("select",function(a,b){this.selectPlace(b.selected)}.bind(this)))};b._subscribeUnselect=function(){this._subscriptions.push(this._placeTagger.subscribe("unselect",this.unselectPlace.bind(this)))};return a}();e.exports=a}),null);
__d("PlaceUtils",[],(function(a,b,c,d,e,f){a={placesClose:function(a,b,c,d){a=a||0;b=b||0;c=c||0;d=d||0;return Math.abs(a-c)<1e-5&&Math.abs(b-d)<1e-5},isNonSpecificPlace:function(a){return a=="city"||a=="state_province"||a=="country"||a=="geo_entity"}};e.exports=a}),null);
__d("ComposerXStandardTagger",["cx","Arbiter","ArbiterMixin","AsyncRequest","CSS","ComposerXImplicitLocation","CurrentUser","DOM","Event","Focus","Input","Keys","Parent","PlaceUtils","StickyPlaceholderInput","WeakToken","getOrCreateDOMID","isEmpty","mixin"],(function(a,b,c,d,e,f,g){var h;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this)||this;c._listeners=[];c._subscriptions=[];c._onCleanup=[];c._config=b||{};c._taggers={};c._taggerIcons={};c._onTaggerShowCallbacks={};c._onTaggerHideCallbacks={};c._currentTagger=null;c._sponsorRelationshipSelector=null;c._sharedToSponsorCheckbox=null;c._taggerSideElements={};c._socialTextSelectors={};return c}var d=c.prototype;d.init=function(a){var c=this;this._mentionsInput=a.getComponent("maininput");this._withTagger=a.getComponent("withtagger");this._withTaggerIcon=a.getComponent("withtaggericon");this._placeTagger=a.getComponent("placetagger");this._hiddenExplicitPlace=a.getComponent("explicitplaceinput");this._citySharerIcon=a.getComponent("citysharericon");this._hiddenPlaceInput=a.getComponent("hiddenplaceinput");this._placeNameInput=a.getComponent("placenameinput");this._sessionID=a.getComponent("hiddensessionid");this._editParams=a.getComponent("editparams");this._interestTagger=a.getComponent("interesttagger");this._interestTaggerIcon=a.getComponent("pagestargetingicon");this._hasMentionsInput()&&(this._input=b("DOM").scry(this._mentionsInput.element,"textarea.input")[0],b("Arbiter").subscribe("composer/ogCustomIconSelected",function(){b("Focus").set(c._input)}));this._withTagger&&this.initAndRegisterWithTagger();this._placeTagger&&this.initAndRegisterPlaceTagger();this._placeTagger&&this.registerAutoEventSuggestion();this.initAndRegisterInterestTagger();this._hasMentionsInput()&&this._listeners.push(b("Event").listen(this._mentionsInput.element,"mousedown",this._onMentionsInputClicked.bind(this)))};d.registerAutoEventSuggestion=function(){this._subscriptions.push(b("Arbiter").subscribe("Events/autoSuggestionConfirmed",function(a,c){this._toggleTagger("place"),b("Arbiter").inform("Events/autoSuggestionSelected",c),b("Focus").set(this._input)}.bind(this)))};d.initAndRegisterPlaceTagger=function(){this.registerTagger("place",this._placeTagger,this._citySharerIcon),this.initTaggerInput("place",this._placeTagger.instance.getCore().getElement()),this._initCitySharer(),this._initPlaceTagger()};d.initAndRegisterWithTagger=function(){this.registerTagger("with",this._withTagger,this._withTaggerIcon),this.initTaggerInput("with",this._withTagger.instance.getInput()),this._initWithTagger(),this.isEditComposer()&&this._updateWithTaggerUI()};d.initAndRegisterInterestTagger=function(){if(!this._interestTagger||!this._interestTaggerIcon)return;this.registerTagger("interest",this._interestTagger,this._interestTaggerIcon);this.initTaggerInput("interest",this._interestTagger.instance.getInput());this._subscriptions.push(this._interestTagger.instance.subscribe(["addToken","removeToken","init"],this._updateInterestTaggerUI.bind(this)))};d.cleanup=function(){this.hideTaggers(),this._listeners.forEach(function(a){a.remove()}),this._listeners=[],this._subscriptions.forEach(function(a){a.unsubscribe()}),this._subscriptions=[],this._onCleanup.forEach(function(a){a()}),this._onCleanup=[],this._citySharerIcon&&this._implicitLocation.cleanup(),this._brComposerUpsell=null};d.reset=function(){this._socialTextRequest&&this._socialTextRequest.abort()};d.registerTagger=function(a,c,d){this._taggers[a]=c,this.hasIcons()&&(this._taggerIcons[a]=d,this._listeners.push(b("Event").listen(this._taggerIcons[a].element,"click",this._toggleTagger.bind(this,a))))};d.registerTaggerSideElement=function(a,b,c){a in this._taggerSideElements||(this._taggerSideElements[a]={}),b in this._taggerSideElements[a]||(this._taggerSideElements[a][b]=c)};d.hideTaggerIcons=function(){for(var a in this._taggers)b("CSS").hide(this._taggerIcons[a].element)};d.showTaggerIcons=function(){for(var a in this._taggers)b("CSS").show(this._taggerIcons[a].element)};d.initTaggerInput=function(a,c){var d=this._config.placeholders||{};d[a]&&b("StickyPlaceholderInput").setPlaceholderText(c,d[a]);this._onTaggerShowCallbacks[a]=b("Focus").set.bind(null,c);this._listeners.push(b("Event").listen(c,"keydown",function(a){b("Event").getKeyCode(a)==b("Keys").RETURN&&!b("Input").getValue(a.getTarget())&&(this.hideTaggers(),setTimeout(b("Focus").set.bind(null,this._input),0))}.bind(this)))};d.setTaggerCallback=function(a,b){this._onTaggerShowCallbacks[a]=b};d.setTaggerHideCallback=function(a,b){this._onTaggerHideCallbacks[a]=b};d._initCitySharer=function(){this._implicitLocation=new(b("ComposerXImplicitLocation"))(this._citySharerIcon.instance,this._placeTagger.instance,this._hiddenPlaceInput.element),this._config.disableImplicitCity?this._implicitLocation.disable():this._implicitLocation.enable()};d.switchTaggerInResponseToClick=function(a){a=a.getTarget();b("Parent").byClass(a,"withToken")?this.switchToTagger("with"):b("Parent").byClass(a,"placeToken")?this.switchToTagger("place"):b("Parent").byClass(a,"og_composer_object")?this.switchToTagger("ogtagger"):this._hideTaggersFromMentionsInputClick()};d._onMentionsInputClicked=function(a){this.switchTaggerInResponseToClick(a)};d._hideTaggersFromMentionsInputClick=function(){this.hideTaggers()};d._initWithTagger=function(){this._subscriptions.push(this._withTagger.instance.subscribe(["addToken","removeToken","init"],this._updateWithTaggerUI.bind(this))),this.refreshWithTaggerPlaceholder()};d.getWithTaggerPlaceholder=function(){return this._config.placeholders?this._config.placeholders["with"]:null};d.getCitySharerIcon=function(){return this._citySharerIcon};d.refreshWithTaggerPlaceholder=function(){var a=this.getWithTaggerPlaceholder();a&&this._withTagger.instance.setPlaceholder(a)};d._initPlaceTagger=function(){this._subscriptions.push(this._placeTagger.instance.subscribe("select",function(a,c){this._hiddenPlaceInput.element.value=c.selected.uid,this._placeNameInput.element.value=c.selected.text,this._hiddenExplicitPlace.element.value=!0,this._placeType=c.selected.place_type,this.updateTaggedText(),this.hideTaggers(),b("Focus").set(this._input)}.bind(this))),this._subscriptions.push(this._placeTagger.instance.subscribe("unselect",function(a,b){this._hiddenExplicitPlace.element.value=!1,this._placeNameInput.element.value="",this._placeType=null,this.updateTaggedText()}.bind(this)))};d.addSubscription=function(a){this._subscriptions.push(a)};d.addListener=function(a){this._listeners.push(a)};d.hasIcons=function(){return!0};d._showTagger=function(a){b("Arbiter").inform("showTagger");this._currentTagger=a;b("CSS").show(this._taggers[a].element);this.hasIcons()&&b("CSS").addClass(this._taggerIcons[a].element,"_509o");a==="with"&&new(b("AsyncRequest"))().setURI("/ajax/fof/user_education.php").setData({increment:1}).send();this._onTaggerShowCallbacks[a]&&this._onTaggerShowCallbacks[a]();if(a in this._taggerSideElements)for(var c in this._taggerSideElements[a])b("CSS").show(this._taggerSideElements[a][c].element)};d._hideTagger=function(a){b("CSS").hide(this._taggers[a].element);this.hasIcons()&&b("CSS").removeClass(this._taggerIcons[a].element,"_509o");this._onTaggerHideCallbacks[a]&&this._onTaggerHideCallbacks[a]();this._currentTagger===a&&(this._currentTagger=null);if(a in this._taggerSideElements)for(var c in this._taggerSideElements[a])b("CSS").hide(this._taggerSideElements[a][c].element)};d.hideTaggers=function(){for(var a in this._taggers)this._hideTagger(a);this._currentTagger=null;this.inform("hidetaggers")};d.isAnyTaggerShown=function(){return!!this._currentTagger};d.switchToTagger=function(a){this.hideTaggers(),this._showTagger(a)};d._toggleTagger=function(a){b("CSS").shown(this._taggers[a].element)?this.hideTaggers():this.switchToTagger(a)};d._getTaggedTextData=function(){if(this._hasPlaceTagger())var a=this._placeTagger.instance.getCore(),c=a.getHiddenValue(),d=c&&a.getValue();a=(this._withTagger&&this._withTagger.instance.getTokens()||[]).filter(function(a){return a.info.uid!=b("CurrentUser").getID()});return!a.length&&!d?{}:{people:a.map(function(a){return a.info.uid}),weakReferences:a.filter(function(a,c,d){return a instanceof b("WeakToken")}).map(function(a){return a.info.uid}),place:d,placeID:c,isNonSpecificPlace:b("PlaceUtils").isNonSpecificPlace(this._placeType)}};d.updateTaggedText=function(){if(this._hasMentionsInput()){var a=this._getTaggedTextData();this.getExtraTaggedTextData&&(a=Object.assign(a,this.getExtraTaggedTextData()));++this._requestID;if((h||(h=b("isEmpty")))(a)){this._mentionsInput.instance.setAuxContent(null);b("Arbiter").inform("reflow");return}a.requestID=this._requestID;a.sessionID=this._sessionID.element.value;this._socialTextRequest=new(b("AsyncRequest"))();this._socialTextRequest.setURI("/ajax/metacomposer/social_text.php").setData(a).setHandler(this._handleSocialText.bind(this)).send()}};d._updateWithTaggerUI=function(){if(!this._withTagger||!this._withTaggerIcon)return;setTimeout(b("StickyPlaceholderInput").update.bind(null,this._withTagger.instance.getInput()),0);b("CSS").conditionClass(this._withTaggerIcon.element,"_1dsa",this._withTagger.instance.getTokens().length>0);this.updateTaggedText()};d._updateInterestTaggerUI=function(){b("CSS").conditionClass(this._interestTaggerIcon.element,"_21yl",this._interestTagger.instance.getTokens().length>0)};d._handleSocialText=function(a){if(a.payload.requestID===this._requestID){var c=this._mentionsInput.instance;c.setAuxContent(a.payload.rendered);a=c.getAuxContentRoot();a&&this._input.setAttribute("aria-labelledby",b("getOrCreateDOMID")(a));b("Arbiter").inform("reflow")}};d._hasMentionsInput=function(){return this._mentionsInput!==void 0};d._hasPlaceTagger=function(){return this._placeTagger!==void 0};d.isEditComposer=function(){return!!this._editParams};return c}(b("mixin")(b("ArbiterMixin")));Object.assign(a.prototype,{_placeType:null,_requestID:0,_socialTextRequest:null});e.exports=a}),null);
__d("OGComposerConstants",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({EditAttachmentURI:"/ajax/composerx/attachment/edit/",ExercisesTypeID:718343998201893,TransitivityStateIntransitive:2})}),null);
__d("ComposerXOGTaggerBehavior",["csx","cx","Arbiter","CSS","ComposerXController","DOM","DOMQuery","MinutiaeVerbs","OGComposerConstants","URI"],(function(a,b,c,d,e,f,g,h){var i,j=null;a={initOGTagger:function(a){var c=this;this._attachmentRoot=a.getRoot();this._showPreview=a.allowOGTagPreview();this._ogTagger=a.getComponent("ogtagger");this._ogIcon=a.getComponent("ogtaggericon");this._removeUrl=a._config&&a._config.remove_url||"/ajax/composerx/attachment/status/";j=this._ogTagger.instance;this.registerTagger("ogtagger",this._ogTagger,this._ogIcon);this.setTaggerCallback("ogtagger",this._ogTagger.instance.showTagger.bind(this._ogTagger.instance));this.setTaggerHideCallback("ogtagger",this._ogTagger.instance.hideTagger.bind(this._ogTagger.instance));this.addSubscription(this._ogTagger.instance.subscribe("changed",this._handleOGActionChanged.bind(this)));this.addSubscription(this._ogTagger.instance.subscribe("unselect",this._handleOGActionRemoved.bind(this)));this._placeTagger&&this.addSubscription(this._placeTagger.instance.subscribe(["select","unselect"],this._handlePlaceChanged.bind(this)));this.addSubscription(b("Arbiter").subscribe("composer/initializedAttachment",function(){this._ogTagger.instance.isSet()&&b("Arbiter").inform("composer/deactivateDragdrop")}.bind(this)));this.addSubscription(b("Arbiter").subscribe("composer/ogCustomIconSelected",function(a,b){if(typeof b!=="object"){c._ogTagger.instance.setCustomIconID(b);return}c._ogTagger.instance.setCustomIconID(b.icon_id)}));this.addSubscription(b("Arbiter").subscribe("composer/ogIconPickerOpened",function(a,b){if(typeof b!=="object"){c._ogTagger.instance.markIconPickerOpened();return}c._ogTagger.instance.markIconPickerOpened()}));this.addSubscription(b("Arbiter").subscribe("composer/updateViewerLocationEstimate",function(a,b){return c._handleViewerLocationChanged(b)}));this.subscribe("hidetaggers",this.hideTypeaheadView.bind(this));this._updateOGIconState();this._updateWithTaggerUI();if(!this._config.preventUnfinishedPostAlert){var d=a.getComposerID();a=a.getRoot();while(a!=null){a=a.parentNode;if(a.id==d)break}b("ComposerXController").registerConditionForComposerCancel(a,function(){return j&&j.hasChanges&&j.hasChanges()})}},_handleOGActionChanged:function(){this._ogTagger.instance.setCustomIconID("");this.updateTaggedText();this._updateOGIconState();if(this._showPreview&&this._ogTagger.instance.isSet()){b("Arbiter").inform("composer/deactivateDragdrop");var a=this._ogTagger.instance.getObjectID();if(a){var c=this._ogTagger.instance.getActionTypeID(),d=b("DOM").find(this._attachmentRoot,'input[name="hide_object_attachment"]');d.value=0;this._config.objectPreviewID==a&&this._showAttachmentPreview();if(this._config.hasShareScrape)return;this.isEditComposer()?d=new(i||(i=b("URI")))(b("OGComposerConstants").EditAttachmentURI):d=new(i||(i=b("URI")))(this._removeUrl);d.addQueryData({override_preview_object_id:!0,preview_object_id:a,preview_action_type_id:c,og_action_changed:!0});b("ComposerXController").getAttachment(this._attachmentRoot,d.toString());c==b("MinutiaeVerbs").COMPOSER_ATTENDS&&b("Arbiter").inform("composer/attendingMinutiaeAdded",{info:{original_id:a}})}}else b("Arbiter").inform("composer/reactivateDragdrop"),this._hideAttachmentPreview()},_handleOGActionRemoved:function(){b("Arbiter").inform("composer/attendingMinutiaeRemoved",{info:{}})},_updateOGIconState:function(){b("CSS").conditionClass(this._ogIcon.element,"_4-jh",this._ogTagger.instance.isSet()),this._ogTagger.instance.isSet()?(this._ogIcon.element.setAttribute("aria-selected","true"),this._ogIcon.element.removeAttribute("role"),this._hideTagger("ogtagger")):(this._ogIcon.element.setAttribute("aria-selected","false"),this._ogIcon.element.setAttribute("role","button"))},_handleViewerLocationChanged:function(a){if(!a.latitude||!a.longitude)return;this._ogTagger.instance.setViewerCoords&&this._ogTagger.instance.setViewerCoords(a)},_handlePlaceChanged:function(a,b){a=b.selected?b.selected.uid:0;this._ogTagger.instance.setPlaceID(a)},_showAttachmentPreview:function(){var a=b("DOM").scry(this._attachmentRoot,"div.fbComposerOGAttachmentPreview");a[0]&&b("CSS").show(a[0])},_hideAttachmentPreview:function(){var a=b("DOM").scry(this._attachmentRoot,"div.fbComposerOGAttachmentPreview");a[0]&&b("CSS").hide(a[0])},cleanupOGTagger:function(){this._showAttachmentPreview(),j=null},getExtraTaggedTextData:function(){var a={};this.getMoreExtraTaggedTextData&&(a=this.getMoreExtraTaggedTextData());if(!this._ogTagger||!this._ogTagger.instance.isSet())return a;a=Object.assign(a,{actionID:this._ogTagger.instance.getActionTypeID(),objectID:this._ogTagger.instance.getObjectID(),objectStr:this._ogTagger.instance.getObjectStr(),objectQuery:this._ogTagger.instance.getObjectQuery(),actionIconID:this._ogTagger.instance.getCustomIconID(),iconPickerOpened:this._ogTagger.instance.getIconPickerOpened()});return a},isOGTaggerSet:function(){return this._ogTagger&&this._ogTagger.instance.isSet()},hideTypeaheadView:function(){this._ogTagger.instance.getNounTypeahead().getView().hide()},updateSuggestion:function(a,c){if(!a)return;var d=b("DOMQuery").find(this._ogIcon.element,"._5xlw");if(!d)return;var e=parseInt(d.innerText,10)||0;b("DOM").setContent(d,a+e);this._ogTagger.instance.suggestIconShown()||this._ogTagger.instance.showSuggestCount(d);c||(c="");this._ogTagger.instance.getVerbTypeahead().getData().bootstrapData.user_input=c},saveSuggestion:function(a,b){var c=this._ogTagger.instance.getVerbTypeahead().getData().bootstrapData.saved_suggestions||{};c[b]=a;this._ogTagger.instance.getVerbTypeahead().getData().bootstrapData.saved_suggestions=c}};e.exports=a}),null);
__d("ComposerXStandardTaggerWithOG",["ComposerXOGTaggerBehavior","ComposerXStandardTagger","classWithMixins","mixin"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.init=function(b){a.prototype.init.call(this,b),this.initOGTagger(b)};c.cleanup=function(){a.prototype.cleanup.call(this),this.cleanupOGTagger()};return b}(b("classWithMixins")(b("ComposerXStandardTagger"),b("mixin")(b("ComposerXOGTaggerBehavior"))));e.exports=a}),null);
__d("OGComposerTagger",["csx","Arbiter","ArbiterMixin","CSS","DOM","Event","Input","RTLKeys","StickyPlaceholderInput","areEqual","mixin","tidyEvent"],(function(a,b,c,d,e,f,g){var h;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,g,h,i,j,k,l,m){var n;n=a.call(this)||this;n._verbTypeahead=c;n._nounTypeahead=d;n._hiddenObjectStr=e;n._suggestionMechanismInput=f;n._suggestionLoggingDataInput=j;n._nounTypeaheadDatasources=k;n._defaultNounTypeaheadDatasource=n._nounTypeahead.getData();n._customIconInput=g;n._objectQuery=null;n._suggestIconElement=null;n._suggestIconShown=!1;n._nounTypeaheadMetrics=i;n._iconPickerOpened=!1;n._placeSpecificVerbList=l;n._enableVerbPrefetching=m;n._initialObjectStr=n.getObjectStr();n._initialObjectID=n.getObjectID();h&&(b("DOM").setContent(n._getVerbSpan(),h),b("CSS").show(n._getVerbSpan()));n._prefetchVerbs();c.getCore().preventFocusChangeOnTab=!0;d.getCore().preventFocusChangeOnTab=!0;d.getCore().keepFocused=!1;n._watchCloseButton(d);e=d.getCore().getElement();f=c.getCore().getElement();b("tidyEvent")([c.subscribe("select",function(a,b){return n._handleVerbChange(b.selected)}),d.subscribe("select",function(a,b){return n._handleNounChange(b.selected)}),d.subscribe("unselect",function(){return n._handleNounUnselect()}),b("Event").listen(f,"keydown",function(a){(b("Event").getKeyCode(a)==b("RTLKeys").SPACE||b("Event").getKeyCode(a)==b("RTLKeys").getRight())&&(c.getView().select(!1),a.kill())}),b("Event").listen(e,"keydown",function(a){(b("Event").getKeyCode(a)==b("RTLKeys").BACKSPACE||b("Event").getKeyCode(a)==b("RTLKeys").getLeft())&&b("Input").isEmpty(this._getNounInput())&&this._showVerbTypeahead()}.bind(babelHelpers.assertThisInitialized(n))),b("Arbiter").subscribe("structuredSuggestion/add",function(a,b){this._handleVerbChange(b)}.bind(babelHelpers.assertThisInitialized(n))),b("Arbiter").subscribe("ogComposer/asyncSuggest",function(a,c){a=JSON.parse(c);if(!this.isSet()){this.setVerbandNoun(a.verb,a.noun);b("Arbiter").inform("ogComposer/asyncSuggest/display",c);var d=!1;this.subscribe("changed",function(a){d||(d=!0,b("Arbiter").inform("ogComposer/asyncSuggest/xout",c))})}}.bind(babelHelpers.assertThisInitialized(n))),b("Arbiter").subscribe("highConfSuggestion/saved",function(){n._verbTypeahead.getData().dirty(),n._verbTypeahead.getData().bootstrap()})]);return n}var d=c.prototype;d._prefetchVerbs=function(a){if(this._enableVerbPrefetching){a=this._verbTypeahead.getData();a.bootstrapData.is_prefetching=!0;a.bootstrap();a.bootstrapData.is_prefetching=!1}};d._prefetchNouns=function(a,b){for(var c in this._nounTypeaheadDatasources)if(Object.prototype.hasOwnProperty.call(this._nounTypeaheadDatasources,c)){var d=this._nounTypeaheadDatasources[c];d.init();d.dirty();a!=null&&(d.bootstrapData[a]=b,d.queryData[a]=b);d.queryData.at_id=c;d.bootstrapData.at_id=c;d.bootstrapData.is_prefetching=!0;d.bootstrap();d.bootstrapData.is_prefetching=!1}};d._updateNounTypeahead=function(a,c){var d=this._defaultNounTypeaheadDatasource;if((h||(h=b("areEqual")))(c,d.bootstrapData[a]))return;this._prefetchNouns(a,c);d.bootstrapData[a]=c;d.queryData[a]=c;d.bootstrapData.at_id&&(this._nounTypeaheadMetrics.init(this._nounTypeahead),d.dirty(),d.bootstrap())};d.showTagger=function(){b("Arbiter").inform("showOGTagger"),this._nounTypeahead.getCore().setEnabled(!0),this._suggestionMechanismInput.value==="gk_based_production_prompt_classifier"&&(this._suggestion_logging_data&&(this._suggestion_logging_data.prompt_removed=!0,this._suggestionLoggingDataInput.value=JSON.stringify(this._suggestion_logging_data))),this.isSet()&&!this._suggestionMechanismInput.value?this._showNounTypeahead():this.isSet()?(this._verbTypeahead.getCore().reset(),this._nounTypeahead.getCore().reset(),this.inform("changed"),this._showVerbTypeahead()):this._showVerbTypeahead(),this._suggestIconElement&&(b("CSS").hide(this._suggestIconElement),this._suggestIconShown=!1,this._badgeClicked=!0),this._prefetchNouns()};d.hideTagger=function(){this._nounTypeahead.getCore().setEnabled(!1)};d.isSet=function(){return!!(this.getObjectID()||this.getObjectStr())};d.hasChanges=function(){return this.getObjectID()!==this._initialObjectID||this.getObjectStr()!==this._initialObjectStr};d.reset=function(){this._nounTypeahead.getCore().reset(),this._verbTypeahead.getCore().reset(),this._hiddenObjectStr.value="",this._objectQuery=null,this.setPlaceID(0),this.setCustomIconID(""),this._iconPickerOpened=!1};d.setVerbandNoun=function(a,b){this._verbTypeahead.getCore().select(a),this._handleVerbChange(a),this._nounTypeahead.getCore().select(b),this._handleNounChange(b)};d.getActionTypeID=function(){return this._verbTypeahead.getCore().getHiddenValue()};d.getObjectID=function(){return this._nounTypeahead.getCore().getHiddenValue()};d.setViewerCoords=function(a){a=JSON.stringify(a);this._updateNounTypeahead("coords",a)};d.setPlaceID=function(a){this._updateNounTypeahead("place_id",a);var b=this._verbTypeahead.getData();this._placeSpecificVerbList&&a!=b.bootstrapData.place_id&&(b.bootstrapData.place_id=a,b.queryData!==void 0&&(b.queryData.place_id=a),b.dirty(),this._prefetchVerbs())};d.getObjectStr=function(){return this._hiddenObjectStr.value};d.getObjectQuery=function(){return this._objectQuery};d.getVerbTypeahead=function(){return this._verbTypeahead};d.getNounTypeahead=function(){return this._nounTypeahead};d._handleVerbChange=function(a){this._suggestionMechanismInput.value=a.suggestion_mechanism;a.suggestion_config?(this._suggestion_logging_data=a.suggestion_config,this._suggestionLoggingDataInput.value=JSON.stringify(this._suggestion_logging_data)):this._suggestion_logging_data&&(this._suggestion_logging_data.erased=!0,this._suggestionLoggingDataInput.value=JSON.stringify(this._suggestion_logging_data));if(a.type==="page"){this._nounTypeahead.getCore().setHiddenValue(a.uid);this._verbTypeahead.getCore().setHiddenValue(a.at_id);this.inform("changed");return}var c=null;Object.prototype.hasOwnProperty.call(this._nounTypeaheadDatasources,a.uid)?c=this._nounTypeaheadDatasources[a.uid]:(c=this._defaultNounTypeaheadDatasource,c.dirty(),c.queryData.at_id=a.uid,c.bootstrapData.at_id=a.uid);c!==this._nounTypeahead.getData()&&this._nounTypeahead.swapData(c);this._nounTypeaheadMetrics.resetWithData(this._nounTypeahead);c.bootstrap(!0);this._nounTypeahead.getView().setContext(a);b("StickyPlaceholderInput").setPlaceholderText(this._nounTypeahead.getCore().getElement(),a.prompt);a.prompt_text?(b("CSS").show(this._getVerbSpan()),b("DOM").setContent(this._getVerbSpan(),a.prompt_text)):b("CSS").hide(this._getVerbSpan());this._showNounTypeahead()};d._handleNounUnselect=function(){this._hiddenObjectStr.value="",this.inform("changed"),this.inform("unselect")};d._handleNounChange=function(a){this._suggestionMechanismInput.value="",a.uid?this._hiddenObjectStr.value="":(this._nounTypeahead.getCore().setHiddenValue(""),this._hiddenObjectStr.value=a.text.trim()),this._objectQuery=a.query,this.inform("changed")};d._getVerbSpan=function(){this._verbSpan||(this._verbSpan=b("DOM").create("span",{className:"verbText"}),b("DOM").prependContent(this._nounTypeahead.getElement(),this._verbSpan),b("tidyEvent")(b("Event").listen(this._verbSpan,"click",function(){this._showVerbTypeahead();return!1}.bind(this))));return this._verbSpan};d._getNounInput=function(){return this._nounTypeahead.getCore().getElement()};d._showVerbTypeahead=function(){b("CSS").show(this._verbTypeahead.getElement());b("CSS").hide(this._nounTypeahead.getElement());this._verbTypeahead.getCore().reset();this._nounTypeahead.getCore().reset();this._verbTypeahead.getCore().getElement().focus();var a=this._verbTypeahead.getData();this._enableVerbPrefetching&&this._placeSpecificVerbList?a.bootstrap(!0):a.bootstrap()};d._showNounTypeahead=function(){b("CSS").hide(this._verbTypeahead.getElement()),b("CSS").show(this._nounTypeahead.getElement()),this._nounTypeahead.getCore().getElement().focus()};d._watchCloseButton=function(a){var c=b("DOM").scry(a.getElement(),".uiCloseButton")[0];c||(c=b("DOM").scry(a.getElement(),"._50zy")[0]);b("tidyEvent")(b("Event").listen(c,"click",function(){this._showVerbTypeahead();return!1}.bind(this)))};d.suggestIconShown=function(){return this._suggestIconShown};d.showSuggestCount=function(a){if(this._badgeClicked)return;this._suggestIconShown=!0;this._suggestIconElement=a;b("CSS").show(a)};d.setCustomIconID=function(a){this._customIconInput.value=a};d.getCustomIconID=function(){return this._customIconInput.value};d.markIconPickerOpened=function(){this._iconPickerOpened=!0};d.getIconPickerOpened=function(){return this._iconPickerOpened};return c}(b("mixin")(b("ArbiterMixin")));e.exports=a;e.exports.asyncSuggest=function(a,c,d){var e=JSON.stringify(a);b("Arbiter").subscribe("ogComposer/asyncSuggest/display",function(a,b){e==b&&c()});b("Arbiter").subscribe("ogComposer/asyncSuggest/xout",function(a,b){e==b&&d()});b("Arbiter").inform("ogComposer/asyncSuggest",e)}}),null);
__d("OGComposerTaggerNounTypeaheadView",[],(function(a,b,c,d,e,f){a=function(a){"use strict"};e.exports=a}),null);
__d("PlacesCitySharerX",["csx","cx","fbt","ArbiterMixin","AsyncRequest","CSS","DOM","Event","Parent","mixin"],(function(a,b,c,d,e,f,g,h,i){var j={};a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b,c,d,e,f,g,h,i,j,k,l,m,n,o){o=a.call(this)||this;o._root=b;o.setShareSetting(k);o.init(c,d,e,f,g,l,n);i&&o.setDefaultCity(h,i,j);o._shareDefaultCity&&o.useDefaultCity();m&&o.toggleSelect();return o}var d=c.prototype;d.init=function(a,c,d,e,f,g,h){this._cityLink=a,this._closeButton=c,this._input=d,this._disableShareInput=e,this._options=f,this._targetId=g||0,this._cityName=b("DOM").find(this._cityLink,"._y8"),this._data={},this._resetTempInfo(),b("Event").listen(this._closeButton,"click",function(){this._resetTempInfo(),this._defaultCityData={},this.clearCity(),this._disableShareInput.value="true"}.bind(this)),j[this._root]=this,this.inform("init",null,"persistent"),this._implicitLocationConfig=h};d.toggleSelect=function(){this._placeSelected=!0,b("CSS").addClass(this._cityLink,"_1dsf"),b("CSS").addClass(this._root,"_1fa"),b("CSS").hide(this._closeButton)};d.addPlace=function(a){this.toggleSelect(),this._resetTempInfo()};d.changeCity=function(a,b,c){this.setCity(a,b,c),this.toggleLocationSharing(a,b,c,!1)};d.clearCity=function(){this._data={};this._input.value="";b("DOM").empty(this._cityName);var a=i._("\u091a\u0947\u0915 \u0907\u0928 \u0915\u0930\u093e");this._cityLink.setAttribute("data-tooltip-content",a);(a=b("CSS")).removeClass(this._root,"_y7");a.hide(this._closeButton);a.removeClass(this._cityLink,"_1dsf");a.removeClass(this._root,"_1fa");this.inform("change",null,"persistent")};d.clearPlace=function(){this._placeSelected=!1,b("CSS").removeClass(this._cityLink,"_1dsf"),b("CSS").removeClass(this._root,"_1fa"),b("CSS").conditionShow(this._closeButton,this.getValue()),this._implicitLocationConfig.enable_implicit_location?this.setDefaultCity(this._data.city_name,this._data.city_page_id,this._data.city_id):this.clearCity()};d.getIcon=function(){return this._root};d.getValue=function(){return this._input.value};d.restoreCityInfo=function(){(this._placeSelected||this._shareDefaultCity)&&(this.changeCity(this._tempCityName,this._tempCityPid,this._tempCityId),this._resetTempInfo())};d.saveCityInfo=function(){this._defaultCityData&&(this._tempCityName=this._defaultCityData.city_name,this._tempCityPid=this._defaultCityData.city_page_id,this._tempCityId=this._defaultCityData.city_id)};d.setCity=function(a,b,c){b&&(this.setCityData(a,b,c),this._input.value=b,this.inform("change",this._data,"persistent"))};d.setCityData=function(a,c,d){if(c){this._data={city_name:a,city_page_id:c,city_id:d};c=a.lastIndexOf(",");c!=-1&&(a=a.substring(0,c));a?d=i._("Currently in {city-name}. Check in",[i._param("city-name",a)]):d=i._("\u091a\u0947\u0915 \u0907\u0928 \u0915\u0930\u093e");b("DOM").setContent(this._cityName,a);this._cityLink.setAttribute("aria-label",d);b("CSS").addClass(this._root,"_y7");b("CSS").conditionShow(this._closeButton,!this._placeSelected)}};d.setDefaultCity=function(a,b,c){this._defaultCityData={city_id:c,city_page_id:b,city_name:a}};d.setSessionID=function(a){this._options.session_id=a};d.setShareSetting=function(a){this._shareDefaultCity=a};d.toggleLocationSharing=function(a,c,d,e){c&&new(b("AsyncRequest"))().setURI("/ajax/places/toggle_location_sharing").setData({city_id:d,city_page_id:c,city_name:a,is_default:e,session_id:this._options.session_id}).send()};d.useDefaultCity=function(){this._defaultCityData&&(this.setCity(this._defaultCityData.city_name,this._defaultCityData.city_page_id,this._defaultCityData.city_id),b("CSS").show(this._closeButton),this.toggleLocationSharing(this._defaultCityData.city_name,this._defaultCityData.city_page_id,this._defaultCityData.city_id,!0))};d._resetTempInfo=function(){this._tempCityName=null,this._tempCityPid=null,this._tempCityId=null};c.getInstance=function(a){a=b("Parent").byClass(a,"ComposerCitySharer");return a&&j[a]};d.getTargetID=function(){return this._targetId};return c}(b("mixin")(b("ArbiterMixin")));e.exports=a}),null);
__d("FBStoriesProductionTypes",["immutable"],(function(a,b,c,d,e,f){"use strict";a={CAMERA_ERROR:"CAMERA_ERROR",FILE_SIZE_EXCEED:"FILE_SIZE_EXCEED",LEAVING:"LEAVING"};f.FBStoriesCameraPopupDialogTypes=a;c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record({hasImage:void 0,hasMediaStream:void 0,isCameraMediaOpen:void 0,imageSource:void 0,mediaNode:void 0,mediaStream:void 0,privacySettingsCustomParticipants:void 0,privacySettingsMode:void 0,videoSource:void 0}));f.FBStoriesCameraState=c;d={CAMERA_1:"CAMERA_1",CAMERA_2:"CAMERA_2",NULL_STATE:"NULL_STATE",UPLOAD_1:"UPLOAD_1"};f.FBStoriesProductionFlowStageTypes=d;e={UNSET:"UNSET",PUBLIC:"PUBLIC",FRIENDS_AND_CONNECTIONS:"FRIENDS_AND_CONNECTIONS",FRIENDS:"FRIENDS",CUSTOM:"CUSTOM"};f.UnifiedStoriesAudienceModeTypes=e}),null);
__d("ScrollableTypeaheadBehavior",["cx","CSS","DOM","Parent","Scroll","ScrollableArea","Style"],(function(a,b,c,d,e,f,g){a=function(){"use strict";function a(a){this._typeahead=a}var c=a.prototype;c.enable=function(){this._scrollableElems=b("ScrollableArea").renderDOM(),b("CSS").addClass(this._scrollableElems.root,"_ml"),b("DOM").appendContent(this._typeahead.getView().element,this._scrollableElems.root),this._typeahead.getView().content=this._scrollableElems.content,this._scrollableArea=b("ScrollableArea").fromNative(this._scrollableElems.root,{fade:!1}),this._subscriptions=[this._typeahead.getView().subscribe("reset",this._reset.bind(this)),this._typeahead.getView().subscribe("render",this._render.bind(this)),this._typeahead.getView().subscribe("beforeRender",this._beforeRender.bind(this)),this._typeahead.getView().subscribe("next",this._scrollHelper.bind(this)),this._typeahead.getView().subscribe("prev",this._scrollHelper.bind(this))],b("CSS").hide(this._scrollableElems.root),b("CSS").removeClass(this._scrollableElems.root,"_mm")};c.disable=function(){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._subscriptions=null};c._reset=function(){b("CSS").hide(this._scrollableElems.root),b("CSS").removeClass(this._scrollableElems.root,"_mm"),this._scrollableArea.scrollToTop()};c._render=function(){this._scrollableArea.poke(),this._showScrollbar?this._scrollableArea.showScrollbar({hideAfterDelay:!1}):this._scrollableArea.hideScrollbar({hideAfterDelay:!1,shouldFade:!1}),b("CSS").addClass(this._scrollableElems.root,"_mm")};c._beforeRender=function(a,c){a=5;this._typeahead.getView().maxResults<10&&(a=3);b("CSS").show(this._scrollableElems.root);b("Style").set(this._scrollableElems.body,"width",this._scrollableElems.wrap.offsetWidth+"px");c.results.length<a?(b("Style").set(this._scrollableElems.wrap,"height",38*c.results.length+4+"px"),this._showScrollbar=!1):(this._scrollableArea.showScrollbar({hideAfterDelay:!1}),b("Style").set(this._scrollableElems.wrap,"height",38*a+4+"px"),this._showScrollbar=!0)};c._scrollHelper=function(a,c){if(!b("Parent").byClass(c,"uiScrollableArea"))return;this._typeahead.getView().ignoreMouseover=!0;a=b("Parent").byClass(c,"uiScrollableAreaWrap");var d=c.offsetTop-a.offsetTop;if(d<b("Scroll").getTop(a)){b("Scroll").setTop(a,d);return}d=d+c.offsetHeight;d>b("Scroll").getTop(a)+a.offsetHeight&&b("Scroll").setTop(a,d-a.offsetHeight)};return a}();Object.assign(a.prototype,{_subscriptions:null,_scrollableElems:null,_scrollableArea:null,_showScrollbar:null});e.exports=a}),null);
__d("legacy:LegacyScrollableTypeaheadBehavior",["ScrollableTypeaheadBehavior"],(function(a,b,c,d,e,f){a.TypeaheadBehaviors||(a.TypeaheadBehaviors={}),a.TypeaheadBehaviors.scrollArea=function(a){a.enableBehavior(b("ScrollableTypeaheadBehavior"))}}),3);
__d("PlacesDataSource",["DataSource"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;b._origBootstrapEndpoint=b.bootstrapEndpoint;return b}var c=b.prototype;c.shouldFetchMoreResults=function(b){if(this.queryData.new_js_ranking)return!0;else return a.prototype.shouldFetchMoreResults.call(this,b)};c.mergeUids=function(b,c,d,e){if(this.queryData.new_js_ranking){this._checkExtendedMatch(e,b);return this.deduplicateByKey(d.concat(c,b))}else return a.prototype.mergeUids.call(this,b,c,d,e)};c.resetBootstrapEndpoint=function(a){this.setBootstrapEndpoint(this._origBootstrapEndpoint,a);return this};c.setBootstrapEndpoint=function(a,b){this.bootstrapEndpoint!==a&&(this.bootstrapEndpoint=a,(this._bootstrapped||this._bootstrapping)&&(b=!0));b&&this.dirty().bootstrap();return this};c.getQueryEndpoint=function(){return this.queryEndpoint};c.getBootstrapData=function(){return this.bootstrapData};return b}(b("DataSource"));e.exports=a}),null);
__d("RemoveToken",["DOM","Event"],(function(a,b,c,d,e,f){a={init:function(a,c){b("Event").listen(a,"click",function(){b("DOM").remove(c)})}};e.exports=a}),null);
__d("PlacesTypeaheadCore",["Arbiter","CSS","Focus","Run","StickyPlaceholderInput","Style","TypeaheadCore"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.init=function(c,d,e){a.prototype.init.call(this,c,d,e),this.arbiterTokens=[b("Arbiter").subscribe("Places/PlaceCreationCancel"+this.callbackID,function(b,a){this.view.allowPlaceCreation=!1,this.view.allowFreeformOption=!0,this.view.reset(),this.focusElement()}.bind(this))],b("Run").onLeave(function(){this.arbiterTokens.forEach(b("Arbiter").unsubscribe)}.bind(this)),this._typeaheadID=e.id,this._citySet=!1,this.data.subscribe("fetchComplete",this.update.bind(this))};d.initToggle=function(){var a=this.root.parentNode,c=b("Style").get(a,"position")!="static"?a:this.root,d=this.view,e="PlacesTypeaheadFocused";this.subscribe("focus",function(){d.show(),b("CSS").addClass(c,e)});this.subscribe("blur",function(){d.hide(),b("CSS").removeClass(c,e)})};d.focusElement=function(){b("Focus").set(this.element),this.value="",this.checkValue()};d.setValue=function(c){a.prototype.setValue.call(this,c),b("StickyPlaceholderInput").update(this.element)};d.updateDataSource=function(a){this.data.setQueryData({city_id:this._cityId,city_set:this._citySet}),this.data.setBootstrapData({city_id:this._cityId}),a&&(this.data.dirty(),this.data.bootstrap())};d.setCity=function(a,b){this._citySet=b,this._cityId!==a&&(this._cityId=a,this.updateDataSource(b))};d.update=function(a,b){a=b.response;if(!a)return;b=a.getPayload();b.cityId&&(this._citySet||this.setCity(b.cityId,!1))};d.setLocation=function(a){if(!a||!a.latitude||!a.longitude)return;this.data.setQueryData({latitude:a.latitude,longitude:a.longitude,want_checkin_places:!0});this.data.setBootstrapData({latitude:a.latitude,longitude:a.longitude,want_checkin_places:!0});this.data.resetBootstrapEndpoint(!0)};return c}(b("TypeaheadCore"));Object.assign(a.prototype,{resetOnKeyup:!1});e.exports=a}),null);
__d("PlacesTypeaheadView",["fbt","Arbiter","CSS","DOM","Dialog","Parent","Run","Scroll","ScrollableArea","Style","TypeaheadView"],(function(a,b,c,d,e,f,g){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.init=function(){this.content=b("DOM").find(this.element,"div.PlacesTypeaheadViewList"),a.prototype.init.call(this),this.subscribe(["render","reset"],this.renderBorders.bind(this)),this.arbiterTokens=[b("Arbiter").subscribe("Places/PlaceCreated"+this.callbackID,function(a,b){a={text:b.name,rawtext:b.name,uid:b.fbid,city_id:b.city_id,city_name:b.city_name,city_page_id:b.city_page_id};this.inform("select",{index:-1,clicked:!0,selected:a});this.inform("afterSelect")}.bind(this))],this.arbiterTokens.push(b("Arbiter").subscribe("Events/autoSuggestionSelected",function(a,b){this.inform("select",{index:-1,clicked:!0,selected:{text:b.event_name,rawtext:b.event_name,uid:b.event_fbid}}),this.inform("afterSelect")}.bind(this))),this.arbiterTokens.push(b("Arbiter").subscribe("Prompt/PrefillCheckin",function(a,b){this.inform("select",{index:-1,clicked:!0,selected:b}),this.inform("afterSelect")}.bind(this))),b("Run").onLeave(function(){this.arbiterTokens.forEach(b("Arbiter").unsubscribe)}.bind(this))};d.renderBorders=function(){b("CSS").conditionClass(this.element,"PlacesTypeaheadViewPopulated",this.items.length)};d.show=function(){a.prototype.show.call(this),(!this.results||!this.results.length)&&b("Style").set(this.element,"height",0)};d.render=function(c,d,e){d.forEach(function(a){a.value=c});if(this.allowFreeformOption&&c&&(!d||d.length===0||d[d.length-1].type!="freeform")){var f=g._("\u0915\u0947\u0935\u0933 \"{custom_location}\" \u0935\u093e\u092a\u0930\u093e",[g._param("custom_location",c)]);d.push({uid:"0",rawtext:c,text:f,type:"freeform"})}if(this.allowPlaceCreation&&c&&(!d||d.length===0||d[d.length-1].type!="placecreate")){f=g._("\"{custom_location}\" \u0938\u094d\u0925\u093e\u0928 \u0938\u092e\u0935\u093f\u0937\u094d\u091f \u0915\u0930\u093e",[g._param("custom_location",c)]);d.push({uid:"0",rawtext:c,text:f,type:"placecreate"})}a.prototype.render.call(this,c,d,e);this.element.style.visibility="hidden";this.visible&&this.results&&this.results.length&&b("Style").set(this.element,"height","");f=b("ScrollableArea").getInstance(this.content);f&&f.adjustGripper();this.inform("afterRender",d);this.element.style.visibility=""};d.select=function(c){var d=this.index;d=this.results[d];if(d){if(d.type==="placecreate"){b("Dialog").bootstrap("/ajax/places/create/dialog.php",{name:d.rawtext,callback_id:this.callbackID});return}d.type==="freeform"&&(d.text=d.rawtext);a.prototype.select.call(this,c)}};d.next=function(){a.prototype.next.call(this),this._scrollIntoView(this.selected)};d.prev=function(){a.prototype.prev.call(this),this._scrollIntoView(this.selected)};d._scrollIntoView=function(a){if(!b("Parent").byClass(a,"uiScrollableArea"))return;this.ignoreNextMouseover=!0;var c=b("Parent").byClass(a,"uiScrollableAreaWrap"),d=a.offsetTop-c.offsetTop;if(d<b("Scroll").getTop(c)){b("Scroll").setTop(c,d);return}d=d+a.offsetHeight;d>b("Scroll").getTop(c)+c.offsetHeight&&b("Scroll").setTop(c,d-c.offsetHeight)};d.mouseover=function(b){this.ignoreNextMouseover||a.prototype.mouseover.call(this,b),this.ignoreNextMouseover=!1};d.highlight=function(b){a.prototype.highlight.call(this,b,!0)};return c}(b("TypeaheadView"));Object.assign(a.prototype,{ignoreNextMouseover:!1});e.exports=a}),null);
__d("PlacesTypeaheadRendererUtil",[],(function(a,b,c,d,e,f){var g=/[.,+*?$|#{}()\^\-\[\]\\\/!@%\"~=<>_:;]/g;function h(a,b){return a.end>b.end||a.start<b.start}function a(a,b){if(!a)return[];var c=[];a=a.replace(g," ");a=a.split(" ");for(var d=0;d<a.length;d++){if(!a[d])continue;var e=a[d];d<a.length-1&&(e=e+"[ ,]");e=new RegExp(" "+e,"i");e=e.exec(" "+b+" ");if(e){e={start:e.index,end:e.index+a[d].length};c.every(h.bind(null,e))&&c.push(e)}else return[]}c.sort(function(a,b){return a.start-b.start});return c}b={match_positions:a};e.exports=b}),null);
__d("PlacesTypeaheadRenderer",["DOM","PlacesTypeaheadRendererUtil"],(function(a,b,c,d,e,f){function a(a,c){c=[];var d=a.photo;d&&c.push(b("DOM").create("img",{alt:"",src:d}));if(a.text){d=b("DOM").create("span",{className:"text"},"");var e=a.text;a.address&&(e=e+" \xb7 "+a.address);var f=[];a.value&&(f=b("PlacesTypeaheadRendererUtil").match_positions(a.value,e));if(f.length>0){var g=0;for(var h=0;h<f.length;h++){var i=f[h].start,j=f[h].end;b("DOM").appendContent(d,e.substr(g,i-g));b("DOM").appendContent(d,b("DOM").create("span",{className:"bold"},e.substr(i,j-i)));g=j}b("DOM").appendContent(d,e.substr(g))}else b("DOM").appendContent(d,b("DOM").create("span",{className:"bold"},a.text)),a.address&&b("DOM").appendContent(d," \xb7 "+a.address);c.push(b("DOM").create("span",{},d))}i=a.subtext;j=a.category;if(i||j){h=[];i&&h.push(i);j&&h.push(j);c.push(b("DOM").create("span",{className:"subtext"},h.join(" \xb7 ")))}return b("DOM").create("li",{className:a.type||""},c)}a.className="places";e.exports=a}),null);
__d("ComposerXComponents",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var b=a.prototype;b.getComponents=function(){return this.$1};return a}();e.exports=a}),null);
__d("OpenGraphDialog",["ComposerXStandardTaggerWithOG","DOM","Focus"],(function(a,b,c,d,e,f){a=function(){function a(a,c,d,e,f){this.$1=a;this.$2=babelHelpers["extends"]({},c.getComponents(),d.getComponents(),e.getComponents(),f.getComponents());this.$3=new(b("ComposerXStandardTaggerWithOG"))({preventUnfinishedPostAlert:!0});this.$3.init(this);a=this.getComponent("maininput").element;a=b("DOM").scry(a,"textarea")[0];b("Focus").set(a)}var c=a.prototype;c.allowOGTagPreview=function(){return!1};c.getRoot=function(){return this.$1};c.getComponent=function(a){return this.$2[a]};c.getComposerID=function(){return""};return a}();e.exports=a}),null);
__d("OpenGraphTypeaheadBehavior",["ContextualLayerAutoFlip","DOMVector"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this.$1=a.getView(),this.$2=this.$1.element}var c=a.prototype;c.enable=function(){this.$1.layer?(this.$1.layer.setPosition("above"),this.$1.layer.disableBehavior(b("ContextualLayerAutoFlip"))):this.$3=this.$1.subscribe("afterRender",this.$4.bind(this))};c.disable=function(){this.listener&&(this.$3.remove(),this.$3=null)};c.$4=function(){var a=b("DOMVector").getElementDimensions(this.$2).y;a&&(this.$2.style.marginTop=-(a+28)+"px")};return a}();e.exports=a}),null);
__d("ExternalWebShareDialogObserver",["cx","Arbiter","CSS","DOM"],(function(a,b,c,d,e,f,g){f.setHidePrivacy=a;f.listenToHidePrivacy=c;f.setHideComposerTaggers=d;f.listenToHideComposerTaggers=e;f.setSubmitButtonActionText=g;f.listenToChangeSubmitButtonActionText=h;f.setDisableSubmitButton=i;f.listenToDisableSubmitButton=j;f.setUserInfoVisibility=k;f.listenToSetUserInfoVisibility=l;f.setDisableFeedCheckBox=m;f.listenToDisableFeedCheckBox=n;f.setDisableStoryCheckBox=o;f.listenToDisableStoryCheckBox=p;f.setDisableDestinationRow=q;f.listenToDisableDestinationRow=r;function a(a){b("Arbiter").inform("setHidePrivacy",a,"state")}function c(a){b("Arbiter").subscribe("setHidePrivacy",function(c,d){d.hide?b("CSS").hide(a):b("CSS").show(a)})}function d(a){b("Arbiter").inform("setHideComposerTaggers",a,"state")}function e(a){b("Arbiter").subscribe("setHideComposerTaggers",function(c,d){d.hide?b("CSS").hide(a):b("CSS").show(a)})}function g(a){b("Arbiter").inform("setSubmitButtonActionText",a,"state")}function h(a){b("Arbiter").subscribe("setSubmitButtonActionText",function(c,d){d.actionText&&b("DOM").setContent(a,d.actionText)})}function i(a){b("Arbiter").inform("setDisableSubmitButton",a,"state")}function j(a){b("Arbiter").subscribe("setDisableSubmitButton",function(b,c){a.disabled=c.disable})}function k(a){b("Arbiter").inform("setUserInfoVisibility",a,"state")}function l(a,c){b("Arbiter").subscribe("setUserInfoVisibility",function(d,e){e.hide?(a!==null&&a!==void 0&&b("CSS").hide(a),b("CSS").hide(c)):(a!==null&&a!==void 0&&b("CSS").show(a),b("CSS").show(c))})}function m(a){b("Arbiter").inform("setDisableFeedCheckBox",a,"state")}function n(a){b("Arbiter").subscribe("setDisableFeedCheckBox",function(b,c){a.disabled=c.disable,a.checked=!c.disable})}function o(a){b("Arbiter").inform("setDisableStoryCheckBox",a,"state")}function p(a){b("Arbiter").subscribe("setDisableStoryCheckBox",function(b,c){a.disabled=c.disable,a.checked=!1})}function q(a){b("Arbiter").inform("setDisableDestinationRow",a,"state")}function r(a){b("Arbiter").subscribe("setDisableDestinationRow",function(c,d){d.disable?b("CSS").addClass(a,"_3560"):b("CSS").removeClass(a,"_3560")})}}),null);
__d("ReactComposerContextConfig",["ReactComposerContextTypes","prop-types"],(function(a,b,c,d,e,f){e.exports=b("prop-types").shape(b("ReactComposerContextTypes"))}),null);
__d("ShareDialogDataSources",["getObjectValues"],(function(a,b,c,d,e,f){a={ACTION:"actionSource",EVENT:"event",FUNDRAISER:"fundraiserSource",GROUP:"groupSource",MENTIONS:"mentionsSource",MESSAGE:"messageSource",OBJECT:"objectSource",PAGE:"pageSource",PERSON:"personSource",PERSON_WALL:"personWallSource",PLACE:"placeSource",STORY:"storySource"};var g=b("getObjectValues")(a);c=function(){function a(){this.$1={},this.$1={}}var b=a.prototype;b.addSource=function(a,b){g.some(function(b){return a===b})&&(this.$1[a]=b);return this};b.getSource=function(a){return this.$1[a]};return a}();e.exports=c;c.TYPES=a}),null);
__d("ShareDialogAudience.react",["cx","Bootloader","MercuryConfig","ReactComposerContextTypes","ShareDialogAudienceTypes","ShareDialogDataSources","SubscriptionsHandler","createReactClass_DEPRECATED","emptyFunction","prop-types","react"],(function(a,b,c,d,e,f,g){var h,i=h||b("react"),j=b("ShareDialogDataSources").TYPES,k,l,m,n,o,p,q;a=b("createReactClass_DEPRECATED")({displayName:"ShareDialogAudience",_subscriptionsHandler:b("SubscriptionsHandler"),contextTypes:b("ReactComposerContextTypes"),propTypes:{activeAudience:function(a){if(!b("ShareDialogAudienceTypes").isValid(a.activeAudience))return new Error("The active audience is invalid.")},customModules:b("prop-types").shape({groupsAudience:b("prop-types").arrayOf(b("prop-types").func)}),sentEntryID:b("prop-types").string,errorEntryID:b("prop-types").string,messageTargets:b("prop-types").array,lockMessageTargets:b("prop-types").bool,userId:b("prop-types").string,dataSources:b("prop-types").instanceOf(b("ShareDialogDataSources")),onClear:b("prop-types").func,onChange:b("prop-types").func,onPost:b("prop-types").func,hideShareDialog:b("prop-types").func,defaultEventTargetID:b("prop-types").string,defaultPageTargetID:b("prop-types").string,defaultPageActorID:b("prop-types").string,defaultGroupTargetID:b("prop-types").string,defaultFundraiserTargetID:b("prop-types").string,pageAudienceSelectorDisabled:b("prop-types").bool,preselectedID:b("prop-types").string,preselectedTitle:b("prop-types").string,enableGroupVoiceSwitcher:b("prop-types").bool,showGroupVoiceSwitcherFirst:b("prop-types").bool,hidePagePostingAs:b("prop-types").bool,isOldForwardFlow:b("prop-types").bool,setSectionName:b("prop-types").func,maybeLogEvent:b("prop-types").func},getDefaultProps:function(){return{customModules:{},dataSources:new(b("ShareDialogDataSources"))(),onClear:b("emptyFunction"),onChange:b("emptyFunction")}},getInitialState:function(){return{bootloaded:!1,bootloading:!1}},componentDidMount:function(){this._subscriptionsHandler=new(b("SubscriptionsHandler"))();if(!this.state.bootloading&&!this.state.bootloaded){this.setState({bootloading:!0});var a=b("Bootloader").loadModules(["ShareDialogMessageAudience.react","ShareDialogGroupAudience.react","ShareDialogGroupAudienceV2.react","ShareDialogEventAudience.react","ShareDialogPersonAudience.react","ShareDialogPageAudience.react","ShareDialogFundraiserAudience.react"],function(a,b,c,d,e,f,g){k=a,l=b,m=c,n=d,o=e,p=f,q=g,this.setState({bootloading:!1,bootloaded:!0})}.bind(this),"ShareDialogAudience.react");this._subscriptionsHandler.addSubscriptions(a)}},componentWillUnmount:function(){this._subscriptionsHandler&&this._subscriptionsHandler.release(),delete this._subscriptionsHandler},render:function(){if(this.state.bootloaded){var a=this.props.dataSources;if(a.getSource(j.MESSAGE)&&this.props.activeAudience===b("ShareDialogAudienceTypes").MESSAGE)return i.jsx(k,{userId:this.props.userId,onClear:this.props.onClear,onChange:this.props.onChange,onPost:this.props.onPost,ref:this.props.ref,messageTargets:this.props.messageTargets,lockMessageTargets:this.props.lockMessageTargets,sentEntryID:this.props.sentEntryID,errorEntryID:this.props.errorEntryID,isOldForwardFlow:this.props.isOldForwardFlow,hideShareDialog:this.props.hideShareDialog,setSectionName:this.props.setSectionName,maybeLogEvent:this.props.maybeLogEvent});if(a.getSource(j.PERSON_WALL)&&this.props.activeAudience===b("ShareDialogAudienceTypes").PERSON)return i.jsx(o,{userId:this.props.userId,onClear:this.props.onClear,onChange:this.props.onChange,preselectedID:this.props.preselectedID,preselectedTitle:this.props.preselectedTitle,ref:this.props.ref,searchSource:a.getSource(j.PERSON_WALL),lockPersonTargets:this.props.lockPersonTargets});if(a.getSource(j.GROUP)&&this.props.activeAudience===b("ShareDialogAudienceTypes").GROUP){var c=this.props.customModules?this.props.customModules.groupsAudience:null;return this.props.showGroupVoiceSwitcherFirst?i.jsx(m,{defaultActorID:this.props.userId,onChange:this.props.onChange}):i.jsx(l,{customModules:c,onClear:this.props.onClear,onChange:this.props.onChange,ref:this.props.ref,searchSource:a.getSource(j.GROUP),pagesSource:a.getSource(j.PAGE),defaultGroupID:this.props.defaultGroupTargetID,userId:this.props.userId,enableGroupVoiceSwitcher:this.props.enableGroupVoiceSwitcher,showGroupVoiceSwitcherFirst:this.props.showGroupVoiceSwitcherFirst})}if(a.getSource(j.EVENT)&&this.props.activeAudience===b("ShareDialogAudienceTypes").EVENT)return i.jsx(n,{defaultEventID:this.props.defaultEventTargetID,onClear:this.props.onClear,onChange:this.props.onChange,ref:this.props.ref,searchSource:a.getSource(j.EVENT)});if(a.getSource(j.PAGE)&&this.props.activeAudience===b("ShareDialogAudienceTypes").PAGE)return i.jsx(p,{disabled:this.props.pageAudienceSelectorDisabled,onClear:this.props.onClear,onChange:this.props.onChange,ref:this.props.ref,pagesSource:a.getSource(j.PAGE),defaultPageID:this.props.defaultPageTargetID,defaultActorID:this.props.defaultPageActorID,hidePostingAs:this.props.hidePagePostingAs});if(a.getSource(j.FUNDRAISER)&&this.props.activeAudience===b("ShareDialogAudienceTypes").FUNDRAISER)return i.jsx(q,{defaultFundraiserID:this.props.defaultFundraiserTargetID,onChange:this.props.onChange,ref:this.props.ref,source:a.getSource(j.FUNDRAISER)})}return this.props.activeAudience===b("ShareDialogAudienceTypes").MESSAGE&&b("MercuryConfig").MNNSS?i.jsx("div",{className:"_6waq"}):i.jsx("noscript",{})}});e.exports=a;e.exports.TYPES=b("ShareDialogAudienceTypes")}),null);
__d("ShareDialogAudienceText.react",["fbt","ShareDialogAudienceTypes","ShareDialogConfig","prop-types","qex","react"],(function(a,b,c,d,e,f,g){var h,i=h||b("react");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){switch(this.props.audience){case b("ShareDialogAudienceTypes").STORY:return g._("\u0924\u0941\u092e\u091a\u094d\u092f\u093e \u0915\u0925\u0947\u0924 \u0938\u093e\u092e\u093e\u092f\u093f\u0915 \u0915\u0930\u093e");case b("ShareDialogAudienceTypes").OWN:return this.props.enableShareSheet?g._("Share to News Feed or Story"):b("qex")._("1568884")?g._("Share to News Feed"):g._("\u0924\u0941\u092e\u091a\u094d\u092f\u093e \u091f\u093e\u0907\u092e\u0932\u093e\u0907\u0928 \u0935\u0930 \u0938\u093e\u092e\u092f\u093f\u0915 \u0915\u0930\u093e");case b("ShareDialogAudienceTypes").PERSON:return g._("\u092e\u093f\u0924\u094d\u0930\u093e\u091a\u094d\u092f\u093e \u091f\u093e\u0907\u092e\u0932\u093e\u0907\u0928 \u0935\u0930 \u0938\u093e\u092e\u093e\u092f\u093f\u0915 \u0915\u0930\u093e");case b("ShareDialogAudienceTypes").GROUP:return g._("\u0938\u092e\u0942\u0939\u093e\u0935\u0930 \u0938\u093e\u092e\u093e\u092f\u093f\u0915 \u0915\u0930\u093e");case b("ShareDialogAudienceTypes").EVENT:return g._("\u0915\u093e\u0930\u094d\u092f\u0915\u094d\u0930\u092e\u093e\u092e\u0927\u094d\u200d\u092f\u0947 \u0938\u093e\u092e\u093e\u092f\u093f\u0915 \u0915\u0930\u093e");case b("ShareDialogAudienceTypes").PAGE:return g._("\u0924\u0941\u092e\u094d\u0939\u0940 \u0935\u094d\u092f\u0935\u0938\u094d\u0925\u093e\u092a\u093f\u0924 \u0915\u0930\u0940\u0924 \u0905\u0938\u0932\u0947\u0932\u094d\u092f\u093e \u092a\u0943\u0937\u094d\u200d\u0920\u093e\u0935\u0930 \u0938\u093e\u092e\u093e\u092f\u093f\u0915 \u0915\u0930\u093e");case b("ShareDialogAudienceTypes").FUNDRAISER:return g._("\u0924\u0941\u092e\u091a\u094d\u092f\u093e \u0938\u0939\u093e\u092f\u094d\u092f\u0924\u093e \u0928\u093f\u0927\u0940\u0935\u0930 \u0938\u093e\u092e\u093e\u092f\u093f\u0915 \u0915\u0930\u093e");case b("ShareDialogAudienceTypes").MESSAGE:if(b("ShareDialogConfig").share_in_separate_messages)return g._("\u0935\u093f\u092d\u0915\u094d\u0924 \u0938\u0902\u0926\u0947\u0936\u093e\u0902\u092e\u0927\u094d\u200d\u092f\u0947 \u0938\u093e\u092e\u093e\u092f\u093f\u0915 \u0915\u0930\u093e");else return g._("\u0916\u093e\u091c\u0917\u0940 \u0938\u0902\u0926\u0947\u0936\u093e\u0924 \u0938\u093e\u092e\u093e\u092f\u093f\u0915 \u0915\u0930\u093e");default:return i.jsx("noscript",{})}};d.render=function(){return i.jsx("span",babelHelpers["extends"]({},this.props,{children:this.$1()}))};return c}(i.Component);a.propTypes={audience:function(a){if(!b("ShareDialogAudienceTypes").isValid(a.audience))return new Error("The audience is invalid.")},enableShareSheet:b("prop-types").bool};a.defaultProps={audience:b("ShareDialogAudienceTypes").OWN,enableShareSheet:!1};e.exports=a}),null);
__d("ShareDialogAudienceSelector.react",["cx","ShareDialogAudienceText.react","ShareDialogAudienceTypes","XUIMenuSeparator.react","XUISelector.react","emptyFunction","prop-types","react"],(function(a,b,c,d,e,f,g){var h,i=h||b("react"),j=b("XUISelector.react").Option;a="react_share_dialog_audience_selector";c=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={activeAudience:c.props.activeAudience},c.onChange=function(a){c.setState({activeAudience:a.value}),c.props.onAudienceSelect(a.value)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){this.setState({activeAudience:a.activeAudience})};d.render=function(){var a=this.props.allowedAudiences,c=[];if(a.length==1)return i.jsx("div",{className:"_94t _1nb1",children:i.jsx("div",{className:"_42ym _41kd",children:i.jsx(b("ShareDialogAudienceText.react"),{audience:this.props.activeAudience,shareType:this.props.shareType})})});a.includes(b("ShareDialogAudienceTypes").STORY)&&c.push(i.jsx(j,{className:"_42ym _7l_8",value:b("ShareDialogAudienceTypes").STORY,children:i.jsx(b("ShareDialogAudienceText.react"),{audience:b("ShareDialogAudienceTypes").STORY,enableShareSheet:this.props.enableShareSheet})},b("ShareDialogAudienceTypes").STORY));a.includes(b("ShareDialogAudienceTypes").OWN)&&c.push(i.jsx(j,{className:"_42ym _42yn",value:b("ShareDialogAudienceTypes").OWN,children:i.jsx(b("ShareDialogAudienceText.react"),{audience:b("ShareDialogAudienceTypes").OWN,"data-testid":void 0,enableShareSheet:this.props.enableShareSheet})},b("ShareDialogAudienceTypes").OWN));a.includes(b("ShareDialogAudienceTypes").PERSON)&&c.push(i.jsx(j,{className:"_42ym _42yp",value:b("ShareDialogAudienceTypes").PERSON,children:i.jsx(b("ShareDialogAudienceText.react"),{audience:b("ShareDialogAudienceTypes").PERSON,"data-testid":void 0})},b("ShareDialogAudienceTypes").PERSON));a.includes(b("ShareDialogAudienceTypes").GROUP)&&c.push(i.jsx(j,{className:"_42ym _2n3i",value:b("ShareDialogAudienceTypes").GROUP,children:i.jsx(b("ShareDialogAudienceText.react"),{audience:b("ShareDialogAudienceTypes").GROUP,"data-testid":void 0})},b("ShareDialogAudienceTypes").GROUP));a.includes(b("ShareDialogAudienceTypes").EVENT)&&c.push(i.jsx(j,{className:"_42ym _18sr",value:b("ShareDialogAudienceTypes").EVENT,children:i.jsx(b("ShareDialogAudienceText.react"),{audience:b("ShareDialogAudienceTypes").EVENT,"data-testid":void 0})},b("ShareDialogAudienceTypes").EVENT));a.includes(b("ShareDialogAudienceTypes").PAGE)&&c.push(i.jsx(j,{className:"_42ym _42y_",value:b("ShareDialogAudienceTypes").PAGE,children:i.jsx(b("ShareDialogAudienceText.react"),{audience:b("ShareDialogAudienceTypes").PAGE,"data-testid":void 0})},b("ShareDialogAudienceTypes").PAGE));a.includes(b("ShareDialogAudienceTypes").FUNDRAISER)&&c.push(i.jsx(j,{className:"_42ym _1a7k",value:b("ShareDialogAudienceTypes").FUNDRAISER,children:i.jsx(b("ShareDialogAudienceText.react"),{audience:b("ShareDialogAudienceTypes").FUNDRAISER,"data-testid":void 0})},b("ShareDialogAudienceTypes").FUNDRAISER));a.includes(b("ShareDialogAudienceTypes").MESSAGE)&&(c.length>0&&c.push(i.jsx(b("XUIMenuSeparator.react"),{},"separator")),c.push(i.jsx(j,{className:"_42ym _42z0",value:b("ShareDialogAudienceTypes").MESSAGE,children:i.jsx(b("ShareDialogAudienceText.react"),{audience:b("ShareDialogAudienceTypes").MESSAGE,shareType:this.props.shareType,"data-testid":void 0})},b("ShareDialogAudienceTypes").MESSAGE)));a="_94t"+(this.state.activeAudience===b("ShareDialogAudienceTypes").OWN?" _47xt":"")+(this.state.activeAudience===b("ShareDialogAudienceTypes").PERSON?" _47xu":"")+(this.state.activeAudience===b("ShareDialogAudienceTypes").GROUP?" _47xv":"")+(this.state.activeAudience===b("ShareDialogAudienceTypes").EVENT?" _18ss":"")+(this.state.activeAudience===b("ShareDialogAudienceTypes").PAGE?" _47xw":"")+(this.state.activeAudience===b("ShareDialogAudienceTypes").FUNDRAISER?" _2afb":"")+(this.state.activeAudience===b("ShareDialogAudienceTypes").MESSAGE?" _47xx":"")+(this.state.activeAudience===b("ShareDialogAudienceTypes").STORY?" _7l_9":"");return i.jsx(b("XUISelector.react"),{maxwidth:400,className:a,defaultValue:this.state.activeAudience,name:"mode",onChange:this.onChange,"data-testid":void 0,children:c})};return c}(i.Component);c.propTypes={allowedAudiences:function(a){if(!a.allowedAudiences.every(function(a){return b("ShareDialogAudienceTypes").isValid(a)}))return new Error("The allowed audiences are not valid.")},activeAudience:function(a){if(!b("ShareDialogAudienceTypes").isValid(a.activeAudience)||!a.allowedAudiences.some(function(b){return b===a.activeAudience}))return new Error("The active audience is either invalid or not included in the allowed audience list.")},onAudienceSelect:b("prop-types").func,enableShareSheet:b("prop-types").bool};c.defaultProps={onAudienceSelect:b("emptyFunction"),activeAudience:b("ShareDialogAudienceTypes").OWN,allowedAudiences:b("ShareDialogAudienceTypes").ALL,enableShareSheet:!1};e.exports=c}),null);
__d("ExternalWebShareDialogAudienceHeader.react",["cx","fbt","Arbiter","CurrentUser","ExternalWebShareDialogObserver","ReactComposerContextConfig","ReactComposerContextProviderMixin","ShareDialogAudience.react","ShareDialogAudienceSelector.react","ShareDialogAudienceTypes","ShareDialogDataSources","createReactClass_DEPRECATED","prop-types","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||b("react");a=b("createReactClass_DEPRECATED")({displayName:"ExternalWebShareDialogAudienceHeader",mixins:[b("ReactComposerContextProviderMixin")],propTypes:{contextConfig:b("ReactComposerContextConfig").isRequired,dataSources:b("prop-types").shape({friend:b("prop-types").object,page:b("prop-types").object,group:b("prop-types").object.isRequired,fundraiser:b("prop-types").array}).isRequired,audience:b("prop-types").oneOf(Object.keys(b("ShareDialogAudienceTypes")).map(function(a){return b("ShareDialogAudienceTypes")[a]})),hideTaggers:b("prop-types").bool,disableMessage:b("prop-types").bool,targetTitle:b("prop-types").string,onChange:b("prop-types").func,onAudienceSelect:b("prop-types").func,defaultEventTargetID:b("prop-types").string,defaultGroupTargetID:b("prop-types").string,defaultFundraiserTargetID:b("prop-types").string,defaultPageActorID:b("prop-types").string,defaultPageTargetID:b("prop-types").string,hidePagePostingAs:b("prop-types").bool,enableShareSheet:b("prop-types").bool},getDefaultProps:function(){return{audience:b("CurrentUser").isWorkUser()?b("ShareDialogAudienceTypes").GROUP:b("ShareDialogAudienceTypes").OWN,disableMessage:!1}},getInitialState:function(){var a,c=this.props.dataSources,d=this.props.contextConfig.actorID,e=this.props.contextConfig.targetID;a={audience:this.props.audience,audienceDataSources:new(a=b("ShareDialogDataSources"))().addSource(a.TYPES.PERSON_WALL,c.friend).addSource(a.TYPES.GROUP,c.group).addSource(a.TYPES.EVENT,c.event).addSource(a.TYPES.PAGE,c.page).addSource(a.TYPES.FUNDRAISER,c.fundraiser).addSource(a.TYPES.MESSAGE,c.friend||c.message),disableMessage:this.props.disableMessage,hideTaggers:this.props.hideTaggers};d&&this.props.audience===b("ShareDialogAudienceTypes").PAGE?(a.audienceTargets=[d],a.actorId=d):e&&(a.audienceTargets=[e],a.targetTitle=this.props.targetTitle);return a},getCurrentAudience:function(){var a=this.state.audienceTargets;a||(a=[this.props.contextConfig.actorID]);return{audience:this.state.audience,audienceTargets:a,actorId:this.state.actorId}},UNSAFE_componentWillMount:function(){var a=this;b("Arbiter").subscribe("isQuoteSet",function(b,c){a.setState({disableMessage:c})})},_onAudienceSelect:function(a){b("ExternalWebShareDialogObserver").setUserInfoVisibility({hide:a===b("ShareDialogAudienceTypes").PAGE}),this.setState({audience:a,audienceTargets:null,actorId:null,targetTitle:null}),this.props.onAudienceSelect&&this.props.onAudienceSelect(a)},_onChangeAudienceTargets:function(a){this.state.audience===b("ShareDialogAudienceTypes").PAGE?this.setState({audienceTargets:[a[0].pageId],actorId:a[0].actorId}):this.setState({audienceTargets:a,actorId:null});if(this.props.onChange){a||(a=[this.props.contextConfig.actorID]);a={audience:this.state.audience,audienceTargets:a,actorId:this.state.actorId};this.props.onChange(a)}},_onClearAudienceTargets:function(){this.setState({audienceTargets:null})},render:function(){var a,c;(a=b("ExternalWebShareDialogObserver")).setHidePrivacy({hide:this.state.audience!==(c=b("ShareDialogAudienceTypes")).OWN});a.setDisableFeedCheckBox({disable:this.state.audience!==c.OWN});a.setDisableStoryCheckBox({disable:this.state.audience!==c.OWN});a.setDisableDestinationRow({disable:this.state.audience!==c.OWN});if(this.state.audience===b("ShareDialogAudienceTypes").OWN)a=null;else{c=null;var d=null,e=null,f=null;this.state.audience===b("ShareDialogAudienceTypes").PAGE?this.props.defaultPageTargetID?c=this.props.defaultPageTargetID:this.state.audienceTargets&&(c=this.state.audienceTargets[0]):this.state.audience===b("ShareDialogAudienceTypes").EVENT?this.props.defaultEventTargetID?d=this.props.defaultEventTargetID:this.state.audienceTargets&&(d=this.state.audienceTargets[0]):this.state.audience===b("ShareDialogAudienceTypes").GROUP?this.props.defaultGroupTargetID?e=this.props.defaultGroupTargetID:this.state.audienceTargets&&(e=this.state.audienceTargets[0]):this.state.audienceTargets&&this.state.targetTitle&&(f=this.state.audienceTargets[0]);a=j.jsx("div",{children:j.jsx(b("ShareDialogAudience.react"),{activeAudience:this.state.audience,dataSources:this.state.audienceDataSources,onChange:this._onChangeAudienceTargets,onClear:this._onClearAudienceTargets,defaultPageTargetID:c,defaultPageActorID:this.props.defaultPageActorID,defaultEventTargetID:d,defaultGroupTargetID:e,defaultFundraiserTargetID:this.props.defaultFundraiserTargetID,preselectedID:f,preselectedTitle:this.state.targetTitle,userId:this.props.contextConfig.actorID,hidePagePostingAs:this.props.hidePagePostingAs,isOldForwardFlow:!0})})}if(this.state.audience===b("ShareDialogAudienceTypes").MESSAGE)b("ExternalWebShareDialogObserver").setHideComposerTaggers({hide:!0}),b("ExternalWebShareDialogObserver").setSubmitButtonActionText({actionText:h._("\u0938\u0902\u0926\u0947\u0936 \u092a\u093e\u0920\u0935\u093e")});else{b("ExternalWebShareDialogObserver").setHideComposerTaggers({hide:!1});c=b("CurrentUser").isWorkUser()?h._("\u0915\u093e\u0930\u094d\u092f\u0938\u094d\u0925\u093e\u0928\u093e\u0935\u0930 \u092a\u094b\u0938\u094d\u091f \u0915\u0930\u093e"):h._("Facebook \u0935\u0930 \u092a\u094b\u0938\u094d\u091f \u0915\u0930\u093e");b("ExternalWebShareDialogObserver").setSubmitButtonActionText({actionText:c})}this.state.hideTaggers&&b("ExternalWebShareDialogObserver").setHideComposerTaggers({hide:!0});b("ExternalWebShareDialogObserver").setDisableSubmitButton({disable:this.state.audience!==b("ShareDialogAudienceTypes").OWN&&(!Array.isArray(this.state.audienceTargets)||this.state.audienceTargets.length===0)});d=[b("ShareDialogAudienceTypes").OWN,b("ShareDialogAudienceTypes").GROUP];this.props.dataSources.friend&&d.push(b("ShareDialogAudienceTypes").PERSON);this.props.dataSources.page&&d.push(b("ShareDialogAudienceTypes").PAGE);this.props.dataSources.fundraiser&&d.push(b("ShareDialogAudienceTypes").FUNDRAISER);this.props.dataSources.event&&d.push(b("ShareDialogAudienceTypes").EVENT);this.state.disableMessage||d.push(b("ShareDialogAudienceTypes").MESSAGE);return j.jsxs("div",{"data-testid":void 0,children:[j.jsx("div",{className:"_kz1"+(this.props.hidePagePostingAs?"":" _125y"),children:j.jsx(b("ShareDialogAudienceSelector.react"),{activeAudience:this.state.audience,onAudienceSelect:this._onAudienceSelect,allowedAudiences:d,enableShareSheet:this.props.enableShareSheet})}),a,j.jsx("input",{type:"hidden",name:"audience_targets",value:this.state.audienceTargets}),j.jsx("input",{type:"hidden",name:"av",value:this.state.actorId})]})}});e.exports=a}),null);
__d("ExternalWebShareDialogQuoteInformer",["Arbiter","MutationObserver"],(function(a,b,c,d,e,f){"use strict";f.init=a;f._informQuoteState=c;function a(a){var c=this;a=a.getElementsByClassName("share-quote-text-text");if(!a||!a[0])return;a=a[0];if(a.childNodes.length>0)this._informQuoteState(a);else{var d=new(b("MutationObserver"))(function(a){c._informQuoteState(a[0].target)});d.observe(a,{childList:!0})}}function c(a){b("Arbiter").inform("isQuoteSet",!!a.textContent,"state")}}),null);
__d("PlatformSharingWebFunnelAnalysisLogging",["PlatformSharingWebFunnelAnalysisTypedLogger","SessionBoundaryBasedFunnelData"],(function(a,b,c,d,e,f){"use strict";f.logLoad=a;function a(){var a=new(b("SessionBoundaryBasedFunnelData"))("dialog_client_loaded");a.markSessionEnd();new(b("PlatformSharingWebFunnelAnalysisTypedLogger"))().setFunnelLoggingInputData(a).log()}}),null);
__d("PlatformShareDialogFunnelLogger",["FunnelLogger","QPLUserFlow"],(function(a,b,c,d,e,f){"use strict";f.startFunnel=a;f.endFunnel=c;f.registerListenerForVisibility=d;f.registerListenerForUserKeyInput=e;f.registerListenerForUserClick=h;f.registerListenerForUserClickAndVisibility=i;f.appendUserActionIfNew=j;f.isElementVisible=k;var g="PLATFORM_SHARE_DIALOG_FUNNEL";a=!1;f._funnelStarted=a;c=null;f._lastAction=c;function a(a,c,d,e,f,h,i){b("FunnelLogger").startFunnel(g),b("FunnelLogger").addFunnelTag(g,"domain:"+a),b("FunnelLogger").addFunnelTag(g,"browser:"+c),b("FunnelLogger").addFunnelTag(g,"req_dialog:"+d),b("FunnelLogger").addFunnelTag(g,"dialog:"+e),b("FunnelLogger").addFunnelTag(g,"controller:"+f),b("FunnelLogger").addFunnelTag(g,"req_display:"+h),b("FunnelLogger").addFunnelTag(g,"display:"+i),this._funnelStarted=!0,b("QPLUserFlow").start(51452317,{annotations:{string:{"domain:":a,"browser:":c,"req_dialog:":d,"dialog:":e,"controller:":f,"req_display:":h,"display:":i}}})}function c(){b("FunnelLogger").endFunnel(g),b("QPLUserFlow").endSuccess(51452317)}function d(a,b){var c=this;if(!b)return;this._funnelStarted&&this.isElementVisible(b)?this.appendUserActionIfNew(a+":visible"):setTimeout(function(){return c.registerListenerForVisibility(a,b)},1e3)}function e(a,b){var c=this;if(!b||!b.addEventListener)return;b.addEventListener("input",function(b){b=b.target;if(b instanceof HTMLInputElement||b instanceof HTMLTextAreaElement){c.appendUserActionIfNew(a+":input");b=b.value;/(^|\s+)#\w\s/.test(b)&&c.appendUserActionIfNew(a+":hash_intended");/(^|\s+)@\w/.test(b)&&c.appendUserActionIfNew(a+":mention_intended")}})}function h(a,b){var c=this;if(!b)return;var d=["click","touchstart","mousedown"],e=function(){c.appendUserActionIfNew(a+":click")};b.addEventListener?d.forEach(function(a){b&&b.addEventListener(a,e)}):b.attachEvent&&b.attachEvent("onclick",e)}function i(a,b){b&&(this.registerListenerForVisibility(a,b),this.registerListenerForUserClick(a,b))}function j(a){b("FunnelLogger").appendActionIfNew(g,a);if(this._lastAction==a)return;this._lastAction=a;b("QPLUserFlow").addPoint(51452317,a)}function k(a){if(!a)return!1;var b=a.getBoundingClientRect(),c=window.innerHeight||document.documentElement.clientHeight,d=window.innerWidth||document.documentElement.clientWidth;a=a.contains(document.elementFromPoint((b.left+b.right)/2,(b.top+b.bottom)/2));return!a?!1:b.top>=0&&b.bottom<=c&&b.left>=0&&b.right<=d}}),null);
__d("ShareDialogUnifiedComposerFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744366");c=b("FalcoLoggerInternal").create("share_dialog_unified_composer",a);e.exports=c}),null);
__d("PlatformWebShareDialogCloseConfirmation",["Event","PlatformDialog","PlatformShareDialogFunnelLogger","Run","ShareDialogUnifiedComposerFalcoEvent"],(function(a,b,c,d,e,f){"use strict";f.init=a;f.setCancelButton=c;f._shouldShowConfirm=d;f._logToUnifiedComposer=e;function a(a,c,d,e,f,g){var h=this;this._cancelWasClicked=!1;this._confirmOnClose=a;this._confirmOnCancel=c;b("Run").onBeforeUnload(function(){h._logToUnifiedComposer(e,f,g);var a=h._shouldShowConfirm()?d:void 0;h._cancelWasClicked=!1;return a});b("Run").onAfterUnload(function(){b("PlatformShareDialogFunnelLogger").endFunnel()})}function c(a){var c=this;b("Event").listen(a,"click",function(a){c._cancelWasClicked=!0,window.opener&&c._confirmOnCancel&&(a.kill(),window.close())})}function d(){if(b("PlatformDialog").getInstance().hasBeenSubmitted())return!1;return this._cancelWasClicked?this._confirmOnCancel:this._confirmOnClose}function e(a,c,d){var e="composer_post";(this._cancelWasClicked||!b("PlatformDialog").getInstance().hasBeenSubmitted())&&(e="composer_cancel");b("ShareDialogUnifiedComposerFalcoEvent").log(function(){return{action:e,session_id:d,app_id:a,is_reshare:c}})}}),null);
__d("createEmojiElement",["cx","JSXDOM"],(function(a,b,c,d,e,f,g){e.exports=a;function a(a,c,d){d=d||16;d={height:d+"px",width:d+"px",fontSize:d+"px",backgroundImage:"url('"+c+"')"};return b("JSXDOM").span({className:"_5mfr"},[b("JSXDOM").span({className:"_6qdm",style:d},a)])}}),null);
__d("DOMEmoji",["cx","EmojiImageURL","EmojiRenderer","FBEmojiUtils","JSXDOM","createEmojiElement","flattenArray","isElementNode"],(function(a,b,c,d,e,f,g){"use strict";a={MAX_ITEMS:40,transform:function(a,c){var d=this;c=c||{};var e=c.size||16,f=c.emojiUrlGenerator||b("EmojiImageURL").getFBEmojiURL;return b("flattenArray")(a.map(function(a){if(!b("isElementNode")(a))return b("EmojiRenderer").render(a,function(a){var c=b("FBEmojiUtils").getSupportedKey(a);return c?b("createEmojiElement")(a.join(""),f(c,e),e):b("JSXDOM").span({className:"_4ay8"+(e===16?" _3kkw":"")},a.join(""))},d.MAX_ITEMS);else return a}))},params:function(a){if(!a)return this;var b=this;return{__params:!0,obj:b,params:a}}};e.exports=a}),null);
__d("TransformTextToDOMMixin",["flattenArray","isElementNode"],(function(a,b,c,d,e,f){var g=3;a={transform:function(a,c){return b("flattenArray")(a.map(function(a){if(!b("isElementNode")(a)){var d=a,e=[],f=this.MAX_ITEMS||g;while(f--){var h=c?[d].concat(c):[d];h=this.match.apply(this,h);if(!h)break;e.push(d.substring(0,h.startIndex));e.push(h.element);d=d.substring(h.endIndex)}d&&e.push(d);return e}return a}.bind(this)))},params:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=this;return{__params:!0,obj:d,params:b}}};e.exports=a}),null);
__d("DOMEmote",["cx","fbt","EmojiImageURL","EmoticonEmojiList","EmoticonsList","JSXDOM","SupportedFacebookEmoji","TransformTextToDOMMixin"],(function(a,b,c,d,e,f,g,h){"use strict";var i={MAX_ITEMS:40,match:function(a,c){var d=c&&c.getMessengerEmote;a=d?b("EmoticonEmojiList").regexp.exec(a):b("EmoticonsList").regexp.exec(a);if(!a||!a.length)return!1;var e=a[2];a=a.index+a[1].length;d=d?b("EmoticonEmojiList").names[e]:b("EmoticonsList").emotes[e];return{startIndex:a,endIndex:a+e.length,element:i._element(e,d,c)}},_element:function(a,c,d){d=d&&d.getMessengerEmote;var e=d?b("EmoticonEmojiList").emote2emojis[c]:b("EmoticonsList").emoji[c];if(e==null)return a;c=h._("{emoticonName} \u092d\u093e\u0935\u0928\u093e\u0926\u0930\u094d\u0936\u0915",[h._param("emoticonName",c)]);return b("JSXDOM").span({className:"_47e3 _5mfr",title:c},[b("JSXDOM").img({"aria-hidden":!0,className:"img",height:16,src:d?b("EmojiImageURL").getMessengerURL(e,16):b("SupportedFacebookEmoji")[e]?b("EmojiImageURL").getFBEmojiURL(e):b("EmojiImageURL").getFBEmojiExtendedURL(e),width:16}),b("JSXDOM").span({"aria-hidden":!0,className:"_7oe"},a)])}};a=Object.assign(i,b("TransformTextToDOMMixin"));e.exports=a}),null);
__d("transformTextToDOM",["createArrayFromMixed"],(function(a,b,c,d,e,f){function a(a,c){var d=[a];c=b("createArrayFromMixed")(c);c.forEach(function(a){var b,c=a;a.__params&&(b=a.params,c=a.obj);d=c.transform(d,b)});return d}e.exports=a}),null);
__d("emojiAndEmote",["DOMEmoji","DOMEmote","FbtResultBase","transformTextToDOM"],(function(a,b,c,d,e,f){"use strict";a=function(a,c){if(a instanceof b("FbtResultBase"))return[a];var d=c?{isSupportedEmoji:c.isSupportedEmoji}:null;c=c?{getMessengerEmote:c.getMessengerEmote}:null;d=[b("DOMEmoji").params(d),b("DOMEmote").params(c)];return b("transformTextToDOM")(a,d)};e.exports=a}),null);
__d("CompactTypeaheadRenderer",["BadgeHelper","DOM","TypeaheadFacepile","emojiAndEmote","isSocialPlugin"],(function(a,b,c,d,e,f){function a(a,c){c=[];if(a.xhp)return b("DOM").create("li",{className:"raw"},a.xhp);var d=a.photos||a.photo;d&&(d instanceof Array?d=b("TypeaheadFacepile").render(d):d=b("DOM").create("img",{alt:"",src:d}),c.push(d));d=a.iconClass;if(d){d=b("DOM").create("span",{className:d});c.push(d)}d=a.debug_info;d&&c.push(b("DOM").create("span",{className:"debugInfo"},d));if(a.text){d=[a.text];b("isSocialPlugin")()||(d=b("emojiAndEmote")(a.text));a.is_verified?d.push(b("BadgeHelper").renderBadge("xsmall","verified")):a.is_trending_hashtag&&d.push(b("BadgeHelper").renderBadge("xsmall","trending"));c.push(b("DOM").create("span",{className:"text"},d))}d=a.subtext;var e=a.category;if(d||e){var f=[];d&&f.push(d);d&&e&&f.push(" \xb7 ");e&&f.push(e);c.push(b("DOM").create("span",{className:"subtext"},f))}d=b("DOM").create("li",{className:a.type||""},c);a.text&&(d.setAttribute("title",a.text),d.setAttribute("aria-label",a.text));return d}a.className="compact";e.exports=a}),null);
__d("OGComposerActionTypeTypeaheadRenderer",["cx","CSS","CompactTypeaheadRenderer","DOM"],(function(a,b,c,d,e,f,g){function a(a,c){c=b("CompactTypeaheadRenderer")(a,c);b("DOM").prependContent(c,a.icon);if(a.type=="action_type"){a=b("DOM").create("i",{className:"arrowRight"});b("DOM").prependContent(c,a)}a=b("DOM").scry(c,"span");a.length==1&&b("CSS").addClass(a[0],"_5lpy");return c}a.className="compact _47i9";e.exports=a}),null);
__d("TypeaheadMetrics",["AsyncRequest","Event","QueriesHistory","emptyFunction"],(function(a,b,c,d,e,f){var g=1e3;a=function(){"use strict";function a(a){this.extraData={},Object.assign(this,a)}var c=a.prototype;c.init=function(a){this.init=b("emptyFunction"),this._initImpl(a)};c._initImpl=function(a){this.core=a.getCore(),this.view=a.getView(),this.data=a.getData(),this.queriesHistory=new(b("QueriesHistory"))(g),this.stats={},this.sessionActive=!1,this._sessionStartEvents=[],this._sessionEndEvents=[],this._reset(),this.initEvents()};c._reset=function(){this.log=[],this.stats={},this.avgStats={},this.sessionActive=!1,this._setSid(Math.floor(Date.now()*Math.random())),this.request_ids=[],this.lastNotBackspacedQuery="",this.queriesHistory.reset(),this._logEvent("session_started",{})};c._logEvent=function(a,b){a={type:a,data:b,time:Date.now()};this.log.push(a)};c._setSid=function(a){this.sid=a,typeof this.data.queryData==="object"&&this.data.queryData!==null?this.data.queryData.sid=this.sid:this.data.setQueryData({sid:this.sid}),typeof this.data.bootstrapData==="object"&&this.data.bootstrapData!==null?this.data.bootstrapData.sid=this.sid:this.data.setBootstrapData({sid:this.sid})};c.resetWithData=function(a){this.init=b("emptyFunction"),this._initImpl(a)};c.resetWithDataBeforeSessionEnd=function(a){var c=this.sessionActive;this.init=b("emptyFunction");this._initImpl(a);this.sessionActive=c};c.recordSelect=function(a){var b=a.selected;b.uid==null?this.recordStat("selected_id","SELECT_NULL"):this.recordStat("selected_id",b.uid);this.recordStat("selected_type",b.type);this.recordStat("selected_score",b.score);this.recordStat("selected_original_id",b.original_id);this.recordStat("place_id",b.place_id);this.recordStat("client_time",b.client_time);this.recordStat("selected_position",a.index);this.recordStat("selected_with_mouse",a.clicked?1:0);this.recordStat("selected_query",a.query);this._sessionEnd()};c.bindSessionStart=function(a,b,c){if(c)for(var c=0;c<this._sessionStartEvents.length;++c){var d=this._sessionStartEvents[c];d.obj.unsubscribe(d.token)}this._sessionStartEvents.push({obj:a,token:a.subscribe(b,function(a,b){this._sessionStart()}.bind(this))})};c.bindSessionEnd=function(a,b,c){if(c)for(var c=0;c<this._sessionEndEvents.length;++c){var d=this._sessionEndEvents[c];d.obj.unsubscribe(d.token)}this._sessionEndEvents.push({obj:a,token:a.subscribe(b,function(a,b){this._sessionEnd()}.bind(this))})};c.dataSubscribe=function(a,b){var c=this.data,d=this.data.subscribe(a,b);this._dataSubscriptions.push(function(){c.unsubscribe(d)})};c.initEvents=function(){this._dataSubscriptions=this._dataSubscriptions||[],this._dataSubscriptions.forEach(function(a){a()}),this._dataSubscriptions=[],this.bindSessionStart(this.core,"focus",!1),this.bindSessionEnd(this.core,"blur",!1),this.view.subscribe("select",function(a,b){this.recordSelect(b)}.bind(this)),this.bindSessionEnd(this.view,"select",!1),this.view.subscribe("render",function(a,b){this.results=b}.bind(this)),this.dataSubscribe("beforeQuery",function(a,b){this._logEvent("user_typed",{query:b.value});if(!b.value)return;this.query=b.value;this.queriesHistory.add(this.query);this.lastNotBackspacedQuery.indexOf(this.query)!==0&&(this.lastNotBackspacedQuery=this.query);this.recordCountStat("num_queries")}.bind(this)),this.dataSubscribe("beforeFetch",function(a,b){b.fetch_context.bootstrap?this.bootstrapBegin=Date.now():b.fetch_context.queryBegin=Date.now(),this._logEvent("async_query_started",{query:b.fetch_context.value,request_id:b.fetch_context.request_id})}.bind(this)),this.dataSubscribe("fetchComplete",function(a,b){this._logEvent("async_query_completed",{query:b.fetch_context.value,request_id:b.fetch_context.request_id});if(b.fetch_context.bootstrap){this.recordAvgStat("bootstrap_latency",Date.now()-this.bootstrapBegin);var c={};b.response.payload.entries.forEach(function(a){!c[a.type]?c[a.type]=1:c[a.type]++});this.recordStat("bootstrap_response_types",c);this.bootstrapped=!0}else"filtered_count"in b.response.payload&&this.recordStat("filtered_count",b.response.payload.filtered_count),this.recordAvgStat("avg_query_latency",Date.now()-b.fetch_context.queryBegin)}.bind(this)),this.dataSubscribe("respond",function(a,b){this._logEvent("respond",{query:b.value,num_results:b.results.length});a=this.data.tokenizeBackend(b.value||"").flatValue;b=this.data.findBestPreviousQuery(a,this.data.getQueryIDs())||"";a=this.data.getQueryIDs()[b];this.normalized_backend_query=b;this.request_id=a;this.request_ids.push(a)}.bind(this)),this.dataSubscribe("dirty",function(a,b){this.bootstrapped=!1}.bind(this))};c._sessionStart=function(){if(this.sessionActive)return;this.sessionActive=!0};c._sessionEnd=function(){if(!this.sessionActive)return;this.sessionActive=!1;this.submit();this._reset()};c.recordStat=function(a,b){this.stats[a]=b};c.recordCountStat=function(a){var b=this.stats[a];this.stats[a]=b?b+1:1};c.recordAvgStat=function(a,b){this.avgStats[a]?(this.avgStats[a][0]+=b,++this.avgStats[a][1]):this.avgStats[a]=[b,1]};c.hasStats=function(){return!!Object.keys(this.stats).length};c.submit=function(){if("log_all_sessions"in this.extraData||this.hasStats()){Object.assign(this.stats,this.extraData);if(this.results){var a=this.results.map(function(a,b){return a.uid});this.recordStat("candidate_results",JSON.stringify(a))}this.query&&this.recordStat("query",this.query);this.lastNotBackspacedQuery&&this.recordStat("last_not_backspaced_query",this.lastNotBackspacedQuery);this.recordStat("queries_history",JSON.stringify(this.queriesHistory.getQueries()));this.normalized_backend_query&&this.recordStat("normalized_backend_query",this.normalized_backend_query);this.request_id&&this.recordStat("request_id",this.request_id);this.request_ids.length&&this.recordStat("request_ids",this.request_ids);this.sid&&this.recordStat("sid",this.sid);this.bootstrapped&&this.recordStat("bootstrapped",1);for(var c in this.avgStats){a=this.avgStats[c];this.stats[c]=a[0]/a[1]}this.recordStat("log",JSON.stringify(this.log));new(b("AsyncRequest"))().setURI(this.endPoint).setMethod("POST").setData({stats:this.stats}).setErrorHandler(b("emptyFunction")).send();this._reset()}};a.register=function(a,c,d){if(document.activeElement===a)c.init(d);else var e=b("Event").listen(a,"focus",function(){c.init(d),e.remove()})};return a}();Object.assign(a.prototype,{endPoint:"/ajax/typeahead/record_basic_metrics.php"});e.exports=a}),null);
__d("OGComposerNounTypeaheadMetrics",["TypeaheadMetrics"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.submit=function(){("log_all_sessions"in this.extraData||this.hasStats())&&(this.stats.at_id=this.data.queryData.at_id),a.prototype.submit.call(this)};return b}(b("TypeaheadMetrics"));e.exports=a}),null);
__d("OGComposerObjectDataSource",["DataSource","createArrayFromMixed"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.addEntries=function(a,c){a=this.processEntries(b("createArrayFromMixed")(a||[]),c);if(c){var d=this.getQueryCache();c=this.tokenizeCache(c).flatValue;d[c]=a}};return c}(b("DataSource"));e.exports=a}),null);
__d("HubsTypeaheadView",["fbt","ContextualTypeaheadView"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){return a.call(this,b,c)||this}var c=b.prototype;c.hide=function(){return this.canHide?a.prototype.hide.call(this):null};c.reset=function(){return this.canHide?a.prototype.reset.call(this):null};c._createFreeFormNode=function(a){var b=a;this.showCreatePrompt?b=g._("Add \"{partial_name}\"",[g._param("partial_name",a)]):this.showAltCreatePrompt&&(b=g._("{partial_name} \"\u0924\u092f\u093e\u0930 \u0915\u0930\u093e\"",[g._param("partial_name",a)]));return{text:b,orig_text:a,type:"addnew calltoaction",uid:"0"}};c.validateQuery=function(a){return this.minQueryLength?a.length>=this.minQueryLength:!0};c.render=function(b,c,d){var e=[],f=Math.max(1,Math.floor(c.length/10));for(var f=f;f<c.length;f++)c[f].already_added&&(e.push(c[f]),c.splice(f,1),f--);c=c.concat(e);if(this.alwaysRender&&b!=="")if(this.allowFreeformEntry)this.validateQuery(b)&&c.push(this._createFreeFormNode(b));else{f=b.toLowerCase().trim();e=!1;for(var g=0;g<c.length;g++)if(typeof c[g].text==="string"&&f===c[g].text.toLowerCase().trim()){e=!0;break}!e&&this.validateQuery(b)&&c.push(this._createFreeFormNode(b))}return a.prototype.render.call(this,b,c,d)};return b}(b("ContextualTypeaheadView"));e.exports=a;Object.assign(a.prototype,{canHide:!0,hasHiddenDupes:!1})}),null);
__d("OGNounTypeaheadView",["csx","cx","fbt","CSS","DOM","HubsTypeaheadView","ScrollableArea","throttle","tidyEvent"],(function(a,b,c,d,e,f,g,h,i){var j;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d._bindScrollListener=function(){this._getScrollableArea()&&b("tidyEvent")(j.subscribe("scroll",b("throttle")(this._checkScroll.bind(this))))};d._checkScroll=function(){var a=this._getLastItemID();j.isScrolledToBottom()&&this._lastItemID!==a&&(this._lastItemID=a,this.inform("scrolledtobottom",{scrollableArea:j}))};d._createFreeFormNode=function(a){return{orig_text:a,icon:this.defaultIcon,text:a,type:"calltoaction"}};d._getScrollableArea=function(){this._scrollableArea||(this._scrollableArea=b("ScrollableArea").getInstance(this.content));return j=this._scrollableArea};d._getLastItemID=function(){var a=this.items[this.items.length-1];return a&&a.getAttribute("aria-label")};d.init=function(){this.content=b("DOM").find(this.element,"div._52yd"),a.prototype.init.call(this),b("tidyEvent")([this.subscribe(["render","reset"],this._updateView.bind(this)),this.subscribe("highlight",this._scrollIntoView.bind(this)),this.subscribeOnce("render",this._bindScrollListener.bind(this))])};d._scrollIntoView=function(a,b){this._getScrollableArea()&&(this.ignoreMouseover=!0,j.scrollIntoView(b.element,!1))};d.validateQuery=function(a){return!this.actionTypeID?!1:this.minQueryLength?a.length>=this.minQueryLength:!0};d.setContext=function(a){this.defaultIcon=a.default_icon;this.actionTypeID=a.uid;this.actionTypeID.indexOf(":")>-1&&(this.actionTypeID=a.action_type_id);a=(!this.actionTypeIDsWithNoFreeform||!this.actionTypeIDsWithNoFreeform[this.actionTypeID])&&this.actionTypeID!=="";this.alwaysRender=a;this.allowFreeform=a;this.allowFreeformEntry=a};d._updateView=function(){this._lastItemID=null,b("CSS").conditionClass(this.element,"_52yc",this.items.length)};d._createCustomAddNode=function(){return{text:String(i._("\u0906\u092a\u0932\u0947 \u0938\u094d\u200d\u0935\u0924:\u091a\u0947 \u091c\u094b\u0921\u093e...")),type:"calltoaction customadd",icon:this.defaultIcon}};d._containCustomAddNode=function(a){for(var b=0;b<a.length;b++)if(a[b].type==="calltoaction customadd")return!0;return!1};d._removeCustomAddNode=function(a){for(var b=0;b<a.length;b++)a[b].type==="calltoaction customadd"&&a.splice(b,1)};d.render=function(b,c,d){this.allowFreeform&&c.length&&b===""&&!this._containCustomAddNode(c)?c.push(this._createCustomAddNode()):this._removeCustomAddNode(c);return a.prototype.render.call(this,b,c,d)};d.select=function(b){var c=this,d=this.results[this.index];if(d&&d.type.match("customadd")){this.causalElement.focus();setTimeout(function(){return c.layer.hide()},0);return}d&&(d.actionTypeID=this.actionTypeID);return a.prototype.select.call(this,b)};return c}(b("HubsTypeaheadView"));e.exports=a}),null);
__d("PrivacySelectorSelectableItem",["csx","cx","CSS","DOM","DOMQuery","MenuSelectableItem","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||b("react"),k="._o00",l="._o01",m="._po2";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){if(c.icon){var d="_392n _1rwt";c.children?c.icon=j.jsx("div",{className:d,children:c.icon}):c.icon=b("DOM").create("div",{className:d},c.icon)}return a.call(this,c)||this}var d=c.prototype;d.render=function(){var c=a.prototype.render.call(this),d=b("DOMQuery").find(c,"._54nh");b("CSS").addClass(d,"_4chm");d=d.parentNode;b("CSS").addClass(d,"_4chl");var e=b("DOMQuery").scry(c,"._392n")[0];e||b("CSS").addClass(d,"_4857");return c};d.isMoreButton=function(){return b("CSS").matchesSelector(this.getRoot(),k)};d.isMoreOptionsButton=function(){return b("CSS").matchesSelector(this.getRoot(),m)};d.isSeeAllButton=function(){return b("CSS").matchesSelector(this.getRoot(),l)};return c}(b("MenuSelectableItem"));e.exports=a}),null);
__d("PrivacySelectorOptionNew",["csx","cx","fbt","CSS","DOM","DOMQuery","JSXDOM","PrivacyConst","PrivacySelectorSelectableItem"],(function(a,b,c,d,e,f,g,h,i){a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b._origLabel=b.getLabel();b._origTriggerLabel=b.getTriggerLabel();return b}var d=c.prototype;d._getData=function(){return this._data};d.getTooltip=function(){return this._getData().tooltip};d.getPostParam=function(){return this._getData().postParam.toString()};d.setPostParam=function(a){this._getData().postParam=a;return this};d.getSubtitles=function(){return this._data.optionSubtitles};d.setSubtitles=function(a){this._data.optionSubtitles!=null&&(this._data.optionSubtitles=a);return this};d.getTriggerIcon=function(){return this._getData().triggerIcon};d.getTriggerLabel=function(){return this._getData().triggerLabel};d.getIconType=function(){return this._getData().iconType};d.isPublic=function(){return this.getPostParam()===b("PrivacyConst").PostParam.EVERYONE.toString()};d.isFriendsOfFriends=function(){return this.getPostParam()===b("PrivacyConst").PostParam.FRIENDS_OF_FRIENDS.toString()};d.isFriends=function(){return this.getPostParam()===b("PrivacyConst").PostParam.FRIENDS.toString()};d.isFriendsExceptAcquaintances=function(){return this.getPostParam()===b("PrivacyConst").PostParam.FRIENDS_MINUS_ACQUAINTANCES.toString()};d.isOnlyMe=function(){return this.getPostParam()===b("PrivacyConst").PostParam.ONLY_ME.toString()};d.isFBOnly=function(){return this.getPostParam()===b("PrivacyConst").PostParam.FB_ONLY.toString()};d.isFriendlist=function(){return this._data.isFriendlist};d.isBasicOption=function(){return!0};d.isCustomOption=function(){return!1};d.isSavedCustomOption=function(){return!1};d.isPrivateSharingDisabledOption=function(){return!1};d.getSavedCustomPrivacyType=function(){return null};d.getTagExpansionBehavior=function(){return this._getData().tagExpansionBehavior};d.getBaseValue=function(){return this._getData().baseValue};d.getIndex=function(){return this._getData().value};d.getLoggingEventName=function(){if(this.isPublic())return"SELECT_EVERYONE";else if(this.isFriendsOfFriends())return"SELECT_FRIENDS_OF_FRIENDS";else if(this.isFriends())return"SELECT_FRIENDS";else if(this.isFriendsExceptAcquaintances())return"SELECT_FRIENDS_EXCEPT_ACQUAINTANCES";else if(this.isOnlyMe())return"SELECT_ONLY_ME";else if(this.isFBOnly())return"SELECT_FB_ONLY";else if(this.isFriendlist())return"SELECT_FRIENDLIST";else return"SELECT_OTHER"};d.updateAfterTagExpansion=function(a){var b=this._origLabel,c=this._origTriggerLabel;a&&this._getData().showPlusOnTagExpansion&&(b=i._("{privacyLabel} (+)",[i._param("privacyLabel",b)]),c=i._("{privacyLabel} (+)",[i._param("privacyLabel",c)]));this._setLabel(b);this._getData().triggerLabel=c;b=this._getExpansionType(a);c=this._getData().optionSubtitles||{};this._setSubtitle(c[b])};d.isBelowSoftFold=function(){return b("CSS").matchesSelector(this.getRoot(),"._4mwj")};d.isBelowFold=function(){return b("CSS").matchesSelector(this.getRoot(),"._3ey_")};d.removeOnBootload=function(){return!!this._getData().removeOnBootload};d._setLabel=function(a){if(!a)return;var c=b("DOMQuery").find(this.getRoot(),"._54nh");c&&b("DOM").setContent(c,a);this._getData().label=a};d._setSubtitle=function(a){if(!a)return;var c=b("DOMQuery").scry(this.getRoot(),"._48u1");c&&c[0]&&b("DOM").setContent(c[0],a)};d._getExpansionType=function(a){return a?b("PrivacyConst").ExpansionType.TAGS_ONLY:b("PrivacyConst").ExpansionType.NONE};d.render=function(){var c=a.prototype.render.call(this);if(!this._getData().isPrimaryOption)return c;var d=b("DOMQuery").find(c,"._54nc");d&&b("CSS").addClass(d,"_48t_");var e=b("DOMQuery").scry(c,"._392n")[0];!e&&d&&b("CSS").addClass(d,"_4zfs");e=b("DOM").find(c,"._54nh");e&&b("CSS").addClass(e,"_48u0");e=b("JSXDOM").div({className:"_48u1"},this._getData().optionSubtitle);b("DOM").appendContent(d,e);return c};return c}(b("PrivacySelectorSelectableItem"));e.exports=a}),null);
__d("XPrivacySelectorLoggingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/privacy/selector/log/",{event:{type:"Enum",required:!0,enumType:1},render_location:{type:"Enum",required:!0,enumType:1},content_type:{type:"String",required:!0},privacy_fbid:{type:"String"},saved_custom_opt_in:{type:"Bool",defaultValue:!1}})}),null);
__d("PrivacySelectorCustomOption",["invariant","AsyncDialog","AsyncRequest","DataStore","PrivacySelectorOptionNew","XPrivacyCustomDialogController","XPrivacySelectorLoggingController"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c._subtitlesWhenNotSelected=b.optionSubtitlesWhenNotSelected;return c}var d=c.prototype;d.isBasicOption=function(){return!1};d.isCustomOption=function(){return!0};d.getSelector=function(){return this._selector};d.getLoggingEventName=function(){return"SELECT_CUSTOM"};d.setSubtitlesToNonSelected=function(){this.setSubtitles(this._subtitlesWhenNotSelected)};d.openDialog=function(a){var c=this;this._selector==null&&(this._selector=a);b("DataStore").set(this._data.id,"PrivacySelectorCustomOption",this);var d=b("XPrivacyCustomDialogController").getURIBuilder().setString("option_id",this._data.id).setString("id",this._data.privacyfbid.toString()).setString("post_param",a.getPostParam()).setString("content_type",a.getContentType()).setEnum("render_location_enum",a.getRenderLocation()).setIntVector("tags",a.getTags()).setBool("autosave",this._data.autosave).setBool("limit_community",this._data.limitcommunity).setBool("limit_fof",this._data.limitfof).setBool("limit_tagexpand",this._data.limittagexpand).setBool("is_new_privacy_selector",!0).setBool("saved_custom_opt_in",a.getSavedCustomOptIn()).getURI();d=new(b("AsyncRequest"))(d);d.setRelativeTo(a.getTriggerButtonElement());b("AsyncDialog").send(d,function(d){var e=function(a){var d=document.getElementsByName("render_location")[0];d instanceof HTMLInputElement||g(0,706);var e=document.getElementsByName("content_type")[0];e instanceof HTMLInputElement||g(0,706);a=b("XPrivacySelectorLoggingController").getURIBuilder().setEnum("event",a).setString("privacy_fbid",c._data.privacyfbid!=null?String(c._data.privacyfbid):null).setEnum("render_location",d.value).setString("content_type",e.value).getURI();new(b("AsyncRequest"))().setURI(a).send()};d.subscribe("hide",function(){a.inform("custom/hide"),a.inform("selectorFinished")});d.subscribe("success",function(){a.inform("custom/success"),e("CUSTOM_SAVE")});d.subscribe("cancel",function(){a.inform("custom/cancel"),e("CUSTOM_CANCEL")})})};c.customPrivacySave=function(a,c,d,e){e===void 0&&(e={});var f=b("DataStore").get(a,"PrivacySelectorCustomOption");b("DataStore").remove(a,"PrivacySelectorCustomOption");if(!(f==null))if(!(f.getSelector==null)){a=f.getSelector();d!==null?a.updateSavedCustomOption(d,c,e):a.updateCustomOption(e);a.selectOption(c);a.finishAnimatingSavedCustomSave()}};return c}(b("PrivacySelectorOptionNew"));e.exports=a}),null);
__d("XPrivacySelectorAsyncMoreController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/privacy/selector/async_more/",{id:{type:"String",required:!0},next_value:{type:"Int",required:!0},render_location_enum:{type:"Enum",required:!0,enumType:1}})}),null);
__d("PrivacySelectableMenu",["cx","Arbiter","AsyncRequest","CSS","DataStore","Ease","Event","Keys","PrivacySelectorCustomOption","PrivacySelectorOptionNew","PrivacySelectorSelectableItem","SelectableMenu","SelectableMenuUtils","XPrivacySelectorAsyncMoreController","XPrivacySelectorLoggingController"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d){c=a.call(this,c,d)||this;b("DataStore").set("PrivacySelectableMenu",d.id,babelHelpers.assertThisInitialized(c));c._needsBootload=!!d.needsbootload;c.collapseMenu();c.updateOptionsAfterTagExpansion(!!d.hasTags);c._subscriptions.addSubscriptions(b("Event").listen(c._ul,"keydown",c._handleEscape.bind(babelHelpers.assertThisInitialized(c))));return c}var d=c.prototype;d._handleEscape=function(a){a.which===b("Keys").ESC&&(this.done(),a.stopPropagation())};d.cleanup=function(){b("DataStore").remove("PrivacySelectableMenu",this._config.id)};d.getItemForIndex=function(a){return this.findOption(function(b){return b.getIndex()==a})};d.findItem=function(a){for(var c=this._items,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;if(f instanceof b("PrivacySelectorSelectableItem")&&a(f))return f}return null};d.findOption=function(a){return this.findItem(function(c){return c instanceof b("PrivacySelectorOptionNew")&&a(c)})};d.getSelectedOption=function(){return this.findOption(function(a){return a.isSelected()})};d.selectOption=function(a){var c=this,d=null,e=!1,f=!1;for(var g=this._items,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=g.length)break;j=g[i++]}else{i=g.next();if(i.done)break;j=i.value}j=j;if(!(j instanceof b("PrivacySelectorSelectableItem")))continue;if(j instanceof b("PrivacySelectorCustomOption")){d=j;continue}if(j.isMoreButton()){this.expandMenuWithMore();continue}if(j.isMoreOptionsButton()||j.isSeeAllButton()){this._needsBootload?e=!0:this.expandMenu();continue}if(!e&&j instanceof b("PrivacySelectorOptionNew")&&j.getPostParam()==a){this.setValue(j.getIndex());f=!0;break}}!f&&d&&(d.setPostParam(a),this.setValue(d.getIndex()));e?(this.subscribeOnce("expandMenu",function(){c.selectOption(a)}),this.expandMenu()):this.inform("selectOption");return!e};d._handleItemClick=function(c,d){if(!b("SelectableMenuUtils").doesItemSupportSelect(c))return a.prototype._handleItemClick.call(this,c,d);if(c.isMoreButton()){this._logMoreButtonClick();this.expandMenuWithMore();return void 0}if(c.isMoreOptionsButton()||c.isSeeAllButton()){this._logMoreOptionsOrSeeAllButtonClick();this.expandMenu();return void 0}if(!(c instanceof b("PrivacySelectorOptionNew")))return void 0;this._logOptionClick(c);d=this.inform("itemclick",{item:c,event:d});if(d)return void 0;!b("SelectableMenuUtils").isSelected(c)&&!c.isCustomOption()&&!c.isSavedCustomOption()&&c.select()!==!1&&(this._items.forEach(function(a){b("SelectableMenuUtils").isSelected(a)&&a!==c&&a.deselect()}),this.inform("change",this.getSelection()));b("Arbiter").inform("composerprivacy/aborteducation");this.done();return c.handleClick()};d._logMoreButtonClick=function(){var a=b("XPrivacySelectorLoggingController").getURIBuilder().setString("content_type",this._config.contenttype).setEnum("event","MORE").setString("privacy_fbid",this._config.privacyfbid!=null?String(this._config.privacyfbid):null).setEnum("render_location",this._config.renderlocation).setBool("saved_custom_opt_in",this._config.savedCustomOptIn).getURI();new(b("AsyncRequest"))().setURI(a).send()};d._logMoreOptionsOrSeeAllButtonClick=function(){var a=this._config.hasSavedCustom?"SEE_ALL":"MORE_OPTIONS";a=b("XPrivacySelectorLoggingController").getURIBuilder().setString("content_type",this._config.contenttype).setEnum("event",a).setString("privacy_fbid",this._config.privacyfbid!=null?String(this._config.privacyfbid):null).setEnum("render_location",this._config.renderlocation).setBool("saved_custom_opt_in",this._config.savedCustomOptIn).getURI();new(b("AsyncRequest"))().setURI(a).send()};d._logOptionClick=function(a){a=b("XPrivacySelectorLoggingController").getURIBuilder().setString("content_type",this._config.contenttype).setEnum("event",a.getLoggingEventName()).setString("privacy_fbid",this._config.privacyfbid!=null?String(this._config.privacyfbid):null).setEnum("render_location",this._config.renderlocation).setBool("saved_custom_opt_in",this._config.savedCustomOptIn).getURI();new(b("AsyncRequest"))().setURI(a).send()};d._getMoreOptionsOrSeeAllButton=function(){return this.findItem(function(a){return a.isMoreOptionsButton()||a.isSeeAllButton()})};d.getCustomItem=function(){return this.findOption(function(a){return a instanceof b("PrivacySelectorCustomOption")})};d._setMenuState=function(a){var c=this.getRoot();b("CSS").conditionClass(c,"_po3",a!=="expanded");b("CSS").conditionClass(c,"_po4",a==="expanded");this._config.hasSavedCustom&&(b("CSS").conditionClass(c,"_n_v",a==="collapsed"),b("CSS").conditionClass(c,"_n__",a!=="collapsed"));this._expanded=a==="expanded"};d.expandMenuWithMore=function(){this._setMenuState("withMore"),this.inform("expandMenuWithMore")};d.expandMenu=function(){var a=this;if(this._expanded)return;this._setMenuState("withMore");this._expanded=!0;if(!this._needsBootload){this.expandMenuAfterLoaded();return}this._needsBootload=!1;var c=this._getMoreOptionsOrSeeAllButton();c&&(this._moreOptionsIcon=c.getIcon(),c.setIcon(this._config.morespinner),this._scrollToOption(c));var d=Date.now(),e=b("XPrivacySelectorAsyncMoreController").getURIBuilder().setString("id",this._config.id).setInt("next_value",this._config.nextvalue).setEnum("render_location_enum",this._config.renderlocation).getURI();new(b("AsyncRequest"))().setURI(e).setRelativeTo(this.getRoot()).setErrorHandler(function(b){b=1250-(Date.now()-d);window.setTimeout(function(){c&&c.setIcon(a._moreOptionsIcon),a._needsBootload=!0,a._expanded=!1},b>0&&c?b:0)}).send()};d.expandMenuAfterLoaded=function(){this._setMenuState("expanded");if(this._moreOptionsIcon){var a=this._getMoreOptionsOrSeeAllButton();a&&a.setIcon(this._moreOptionsIcon);this._moreOptionsIcon=void 0}this.inform("expandMenu")};d.collapseMenu=function(){this._setMenuState("collapsed")};d.updateOptionsAfterTagExpansion=function(a){this._lastHasTagsUpdate=a,this.forEachItem(function(c){c instanceof b("PrivacySelectorOptionNew")&&c.updateAfterTagExpansion(a)})};d.refreshTagExpansionLabels=function(){this.updateOptionsAfterTagExpansion(!!this._lastHasTagsUpdate)};d.updateTagExpansionLabelAfterBootload=function(){this.refreshTagExpansionLabels()};d.onPopoverOpen=function(a){var b=this;a&&a.isBelowFold()?(this._needsBootload&&this.subscribeOnce("expandMenu",function(){var a=b.getSelectedOption();a&&b._scrollToOption(a)}),this.expandMenu(),this._needsBootload||this._scrollToOption(a)):a&&a.isBelowSoftFold()?(this.expandMenuWithMore(),this._scrollToOption(a)):this.collapseMenu()};d._scrollToOption=function(a){if(!this._scrollableArea)return;a=a.getRoot();if(a===null)return;var c=12,d=this._scrollableArea.getScrollTop(),e=d+this._scrollableArea.getClientHeight();a=a.offsetTop+a.offsetHeight;a+c>e&&this._scrollableArea.setScrollTop(d+a+c-e,!0,{duration:Math.min(1e3,(a+c-e)*10),ease:b("Ease").sineOut})};return c}(b("SelectableMenu"));e.exports=a}),null);
__d("PopoverButton",["csx","DOM","DOMQuery","isTextNode"],(function(a,b,c,d,e,f,g){a={setLabel:function(a,c){a=b("DOMQuery").find(a,"._55pe");var d=a.childNodes;for(var e=0;e<d.length;e++)if(b("isTextNode")(d[e])){b("DOM").replace(d[e],c);return}b("DOM").appendContent(a,c)}};e.exports=a}),null);
__d("PrivacySelectorDataStore",["ArbiterMixin","KeyedCallbackManager","PrivacySelectorNewDispatcher"],(function(a,b,c,d,e,f){var g=new(b("KeyedCallbackManager"))(),h=babelHelpers["extends"]({},b("ArbiterMixin"),{get:function(a,b){g.executeOrEnqueue(a,b)},hasValueChanged:function(a){return!!g.getResource(a)}});b("PrivacySelectorNewDispatcher").register(function(a){a.saved_custom_privacy_type!=null&&(g.addResourcesAndExecute({saved_custom_update:{postParam:a.post_param,savedCustomPrivacyType:a.saved_custom_privacy_type,sourceSelectorID:a.unique_id,subtitles:a.subtitles}}),h.inform("saved_custom_update"));if(a.selector_type){var b={};b[a.selector_type]={post_param:a.post_param,unique_id:a.unique_id,reload:a.reload,is_error:a.is_error,is_custom:a.is_custom,selector_type:a.selector_type,subtitles:a.subtitles};g.addResourcesAndExecute(b);h.inform("change")}});a=h;e.exports=a}),null);
__d("XPrivacySpecificAudienceSelectorDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/privacy/specific_audience_selector_dialog/",{autosave:{type:"Bool",defaultValue:!1},content_type:{type:"String"},fbid:{type:"String",required:!0},option_id:{type:"String"},post_param:{type:"String"},privacy_type:{type:"Enum",required:!0,enumType:1},render_location:{type:"Enum",required:!0,enumType:1},return_uri:{type:"String"},cancel_uri:{type:"String"}})}),null);
__d("PrivacySelectorSavedCustomOption",["AsyncDialog","AsyncRequest","DataStore","PrivacySelectorOptionNew","XPrivacySpecificAudienceSelectorDialogController"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){return a.call(this,b)||this}var d=c.prototype;d.getSelector=function(){return this._selector};d.isBasicOption=function(){return!1};d.isSavedCustomOption=function(){return!0};d.getSavedCustomPrivacyType=function(){return this._data.savedCustomPrivacyType};d.getLoggingEventName=function(){switch(this._data.savedCustomPrivacyType){case"friends_except":return"SELECT_FRIENDS_EXCEPT";case"specific_friends":return"SELECT_SPECIFIC_FRIENDS";default:return"SELECT_OTHER"}};d.openDialog=function(a){this._selector=a;b("DataStore").set(this._data.id,"PrivacySelectorCustomOption",this);var c=b("XPrivacySpecificAudienceSelectorDialogController").getURIBuilder().setBool("autosave",this._data.autosave).setString("content_type",a.getContentType()).setString("fbid",this._data.privacyFBID).setString("option_id",this._data.id).setString("post_param",this.getPostParam()).setEnum("privacy_type",this._data.savedCustomPrivacyType).setEnum("render_location",a.getRenderLocation()).getURI();c=new(b("AsyncRequest"))().setURI(c).setRelativeTo(a.getTriggerButtonElement());b("AsyncDialog").send(c)};c.informSave=function(a){a=b("DataStore").get(a,"PrivacySelectorCustomOption");if(a instanceof c){a=a.getSelector();a&&a.animateSavedCustomSave()}};c.informSaveError=function(a){a=b("DataStore").get(a,"PrivacySelectorCustomOption");if(a instanceof c){a=a.getSelector();a&&a.finishAnimatingSavedCustomSaveOnError()}};return c}(b("PrivacySelectorOptionNew"));e.exports=a}),null);
__d("XPrivacySelectorSavedCustomUpdateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/privacy/selector/update/saved_custom/",{})}),null);
__d("XPrivacySelectorUpdateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/privacy/selector/update/",{privacy_fbid:{type:"String",required:!0},post_param:{type:"String",required:!0},tags:{type:"IntVector"},render_location_enum:{type:"Enum",required:!0,enumType:1},is_saved_on_select:{type:"Bool",defaultValue:!1},should_return_tooltip:{type:"Bool",defaultValue:!1},replace_on_select:{type:"Bool",defaultValue:!1},prefix_tooltip_with_app_privacy:{type:"Bool",defaultValue:!1},ent_id:{type:"String",required:!0},reload_selector:{type:"Bool",defaultValue:!1},user_id:{type:"FBID"},privacy_mutation_token:{type:"String"}})}),null);
__d("PrivacySelectorBase",["cx","fbt","$","Animation","Arbiter","ArbiterMixin","AsyncRequest","Button","CSS","CurrentUser","DOM","DataStore","Focus","Input","MenuStaticItem","PopoverButton","PopoverLoadingMenu","PrivacyConst","PrivacySelectableMenu","PrivacySelectorCustomOption","PrivacySelectorDataStore","PrivacySelectorNewDispatcher","PrivacySelectorSavedCustomOption","Promise","QPLUserFlow","Run","SubscriptionsHandler","TooltipData","XPrivacySelectorLoggingController","XPrivacySelectorSavedCustomUpdateController","XPrivacySelectorUpdateController","XUIError","bind","debounce","ge","mixin","nullthrows","promiseDone","regeneratorRuntime","setTimeout"],(function(a,b,c,d,e,f,g,h){var i=this,j=1,k=function(c){babelHelpers.inheritsLoose(a,c);function a(a,d,e,f,g,h){var i;i=c.call(this)||this;i._hasBeenCleanedUp=!1;i._syncUpdateQueue=[];i._isWaitingForSavedCustom=!1;i._config=a;b("DataStore").set(i._config.rootID,"selector",babelHelpers.assertThisInitialized(i));i._isSavedOnSelect=a.isSavedOnSelect;i._tags=a.taggedUIDs;i._receivingUpdate=!1;i._previousParam=null;i._listeners=new(b("SubscriptionsHandler"))();i._spinnerCount=0;i._postParam=a.postParam;d=a.hasSavedCustomPrivacy;e=a.selectorSyncKey;f=a.useAsyncMenu;f?i._listeners.addSubscriptions(i.getPopoverMenu().subscribe("setMenu",function(){i._menu=i.getPopoverMenu().getMenu();if(!(i._menu instanceof b("PrivacySelectableMenu")))return;i._onMenuLoad();i._onPopoverOpen();i.inform("asyncMenuLoaded")})):i._onMenuLoad();(e||d)&&i._initSelectorSync();b("Run").onLeave(i._cleanup.bind(babelHelpers.assertThisInitialized(i)));return i}var d=a.prototype;d._cleanup=function(){if(this._config.skipCleanup)return;var a=this.getSelectableMenu();a instanceof b("PrivacySelectableMenu")&&a.cleanup();this._hasBeenCleanedUp=!0;this._syncUpdateQueue=[];this._syncUpdatePromise=null;this._listeners&&this._listeners.release();this._listeners=null};d._initSelectorSync=function(){var a=this,c=this._config,d=c.hasSavedCustomPrivacy,e=c.selectorSyncKey;e!=null&&(this._listeners&&this._listeners.addSubscriptions(b("PrivacySelectorDataStore").subscribe("change",function(){b("PrivacySelectorDataStore").get(e,function(b){a._enqueueAndExecuteSyncUpdate({type:"regular_update",payload:b})})})));d&&(this._listeners&&this._listeners.addSubscriptions(b("PrivacySelectorDataStore").subscribe("saved_custom_update",function(){b("PrivacySelectorDataStore").get("saved_custom_update",function(b){a._enqueueAndExecuteSyncUpdate({type:"saved_custom_update",payload:b})})})))};d._enqueueAndExecuteSyncUpdate=function(a){this._syncUpdateQueue.push(a);if(this._syncUpdatePromise)return;this._syncUpdatePromise=this._startSyncUpdates();b("promiseDone")(this._syncUpdatePromise,this._resetSyncUpdatePromise.bind(this),this._resetSyncUpdatePromise.bind(this))};d._resetSyncUpdatePromise=function(){this._syncUpdatePromise=null};d._startSyncUpdates=function(){var a=this;return new(b("Promise"))(function(c,d){var e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:f.next=2;return b("regeneratorRuntime").awrap(a._waitUntilSelectorInDOM());case 2:if(!a._hasBeenCleanedUp){f.next=5;break}d();return f.abrupt("return");case 5:while(a._syncUpdateQueue.length)e=a._syncUpdateQueue.shift(),a._executeSyncUpdate(e);c();case 7:case"end":return f.stop()}},null,this)})};d._executeSyncUpdate=function(c){var d=this;if(c.type==="tags_changed"){this._executeTagsChangedUpdate(c.tags);return}var e=c.payload,f=this.getSelectableMenu();if(e.unique_id===f._config.id)return;this._receivingUpdate=!0;switch(c.type){case"regular_update":b("XUIError").clear(this.getTriggerButtonElement());e.post_param&&this.selectOption(e.post_param,function(){e.is_custom&&e.subtitles&&d.updateCustomOption(e.subtitles)});e.reload&&this.reloadSelector();e.is_error&&this._displayErrorWithoutFocus();e.post_param||(this._receivingUpdate=!1);break;case"saved_custom_update":f instanceof b("PrivacySelectableMenu")&&e.savedCustomPrivacyType!=null&&e.postParam!=null&&e.subtitles!=null&&this.updateSavedCustomOption(e.savedCustomPrivacyType,e.postParam,e.subtitles);if(!this.shouldTryToUpdateSavedCustom())return;a._savedCustomSelectorsToUpdate.push(this);a._sendSavedCustomUpdateRequest();e.postParam||(this._receivingUpdate=!1);break}};d._executeTagsChangedUpdate=function(a){var c=this._tags;this._tags=a;var d=c.length>0,e=a.length>0;d!==e&&(this.getSelectableMenu().updateOptionsAfterTagExpansion(this._showTagExpansion()),this._updateTriggerButtonLabelAndIcon());(c.length!==a.length||a.some(function(a){return!c.includes(a)}))&&(this._updateTooltip(),b("Arbiter").inform("PrivacySelectorBase/changed",this._getChangedData()))};d.shouldTryToUpdateSavedCustom=function(){if(this.getSelectableMenu()instanceof b("PrivacySelectableMenu"))return this.getIsCustomOptionSelected()||this.getIsSavedCustomOptionSelected();var a=Object.keys(b("PrivacyConst").PostParam);for(var c=0;c<a.length;c++){var d=a[c];if(this._postParam===b("PrivacyConst").PostParam[d].toString())return!1}return!0};d._broadcastUpdate=function(){this._broadcastUpdateImpl(!1)};d._broadcastError=function(){this._broadcastUpdateImpl(!0)};d._broadcastUpdateImpl=function(a){if(!this._receivingUpdate){var c={};c.selector_type=this._config.selectorSyncKey;c.unique_id=this.getSelectableMenu()._config.id;if(a)c.is_error=a;else{a=this._getSelectedOption();if(!a)return;c.post_param=a.getPostParam();c.subtitles=a.getSubtitles();c.is_custom=a.isCustomOption();c.saved_custom_privacy_type=a.getSavedCustomPrivacyType()}b("PrivacySelectorNewDispatcher").handleUpdateFromSelector(c)}};d.disable=function(){var a=this.getTriggerButtonElement();b("Button").setEnabled(a,!1);this.getPopover().disable();b("CSS").addClass(a,"_4swv");return this};d.enable=function(){var a=this.getTriggerButtonElement();b("Button").setEnabled(a,!0);this.getPopover().enable();b("CSS").removeClass(a,"_4swv");return this};d.shouldReplaceOnPost=function(){return this._config.replaceOnPost};d.getSelectedTriggerIcon=function(){return this._selectedOption&&this._selectedOption.getTriggerIcon()};d.getSelectedTriggerLabel=function(){return this._selectedOption&&this._selectedOption.getTriggerLabel()};d.getSelectedIconType=function(){return this._selectedOption&&this._selectedOption.getIconType()};d.getIsPublicSelected=function(){return this._selectedOption&&this._selectedOption.isPublic()};d.getIsFBOnlySelected=function(){return this._selectedOption&&this._selectedOption.isFBOnly()};d.getIsFriendsSelected=function(){return this._selectedOption&&this._selectedOption.isFriends()};d.getIsFriendsOfFriendsSelected=function(){return this._selectedOption&&this._selectedOption.isFriendsOfFriends()};d.getIsOnlyMeSelected=function(){return this._selectedOption&&this._selectedOption.isOnlyMe()};d.getSelectedBaseValue=function(){return this._selectedOption&&this._selectedOption.getBaseValue()};d.getSelectedLabelString=function(){return this._selectedOption&&this._selectedOption.getLabel()};d.getSelectedPostParam=function(){return this._selectedOption&&this._selectedOption.getPostParam()};d.getIsCustomOptionSelected=function(){return this._selectedOption&&this._selectedOption.isCustomOption()};d.getIsSavedCustomOptionSelected=function(){return this._selectedOption&&this._selectedOption.isSavedCustomOption()};d.getIsSavedOnSelect=function(){return this._isSavedOnSelect};d.getPrivacyFBID=function(){return this._config.privacyFBID};d.setValue=function(a){this.getSelectableMenu().setValue(a)};d.setIsSavedOnSelect=function(a){this._isSavedOnSelect=a};d.getSavedCustomOptIn=function(){return this._config.savedCustomOptIn};d.openSelectorExpanded=function(a){var b=this;this.openSelector(function(){b.getSelectableMenu().expandMenu(),a&&a()})};d.openSelector=function(a){this.getSelectableMenu()instanceof b("PopoverLoadingMenu")?(this.subscribeOnce("asyncMenuLoaded",function(){a&&a()}),this.getPopover().showLayer()):(this.getPopover().showLayer(),a&&a())};d.closeSelector=function(){this.getPopover().hideLayer()};d.getSelectableMenu=function(){this._menu||(this._menu=this._config.getMenu());return this._menu};d.getPopover=function(){this._popover||(this._popover=this.getPopoverMenu().getPopover());return this._popover};d.getPopoverMenu=function(){this._popoverMenu||(this._popoverMenu=this._config.getPopoverMenu());return this._popoverMenu};d.getTriggerButtonElement=function(){this._button||(this._button=b("$")(this._config.buttonID));return this._button};d.isSelectorInDOM=function(){return!!b("ge")(this._config.rootID)};d._waitUntilSelectorInDOM=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:if(!(!this._hasBeenCleanedUp&&!this.isSelectorInDOM())){a.next=5;break}a.next=3;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(a){return b("setTimeout")(a,1e3)}));case 3:a.next=0;break;case 5:case"end":return a.stop()}},null,this)};d.getRoot=function(){this._root||(this._root=b("$")(this._config.rootID));return this._root};d.getInput=function(){this._input||(this._input=b("$")(this._config.inputID));return this._input};d.getSpinner=function(){this._spinner||(this._spinner=b("$")(b("nullthrows")(this._config.spinnerID)));return this._spinner};d.getCheckmark=function(){this._checkmark||(this._checkmark=b("$")(b("nullthrows")(this._config.checkmarkID)));return this._checkmark};d.getErrorIcon=function(){this._errorIcon||(this._errorIcon=b("$")(b("nullthrows")(this._config.errorIconID)));return this._errorIcon};d.getMenuElement=function(){return this.getSelectableMenu().getRoot()};d.selectOption=function(a,c){if(!a)return;var d=this.getSelectableMenu();d instanceof b("PopoverLoadingMenu")?(this.subscribeOnce("asyncMenuLoaded",this._selectOptionImpl.bind(this,a,c)),this._fetchAsyncMenu()):this._selectOptionImpl(a,c)};d._selectOptionImpl=function(a,b){var c=this,d=this.getSelectableMenu();a=d.selectOption(a);!a?(d.subscribeOnce("selectOption",function(){var a=c.getIsSavedOnSelect();c.setIsSavedOnSelect(!1);c._updateMenu();c.setIsSavedOnSelect(a);c._finishSpinnerSuccess();b&&b()}),this._showSpinner()):b&&b();this._updateMenu()};d._updateMenu=function(){this._selectedOption=this._getSelectedOption();if(!this._selectedOption)return;this.updateDataForItemIndex(this._selectedOption.getIndex(),this._selectedOption.getPostParam())};d._fetchAsyncMenu=function(){this._config.useAsyncMenu&&this.getPopoverMenu().fetchMenu()};d._getSelectedOption=function(){var a=this.getSelectableMenu();return a instanceof b("PrivacySelectableMenu")?a.getSelectedOption():null};d._onItemClick=function(a,c){a=c.item;if(a instanceof b("MenuStaticItem"))return;a.isPrivateSharingDisabledOption()?a.openDialog(this):a.isBasicOption()?this.updateDataForItemIndex(a.getIndex(),a.getPostParam()):(a.isCustomOption()||a.isSavedCustomOption())&&(this._closeForCustom=!0,a.openDialog(this));this.inform("click",{customSelected:a.isCustomOption()})};d.getContentType=function(){return this._config.contentType};d.getRenderLocation=function(){return this._config.renderLocation};d.getPostParam=function(){return this._postParam};d.getTags=function(){return this._tags};d.updateCustomOption=function(a){var c=this.getSelectableMenu(),d=c.findOption(function(a){return a instanceof b("PrivacySelectorCustomOption")});if(d==null)return;d.setSubtitles(a);c.refreshTagExpansionLabels()};d.updateSavedCustomOption=function(a,c,d){var e=this.getSelectableMenu(),f=e.findOption(function(c){return c instanceof b("PrivacySelectorSavedCustomOption")&&c.getSavedCustomPrivacyType()===a});if(f==null)return;f.setPostParam(c).setSubtitles(d);e.refreshTagExpansionLabels()};d.updateDataForItemIndex=function(a,c){var d=this.getSelectableMenu();a=d.getItemForIndex(String(a));if(!a)return;(a.isCustomOption()||a.isSavedCustomOption())&&a.setPostParam(c);if(!a.isCustomOption()){var e=d.findOption(function(a){return a instanceof b("PrivacySelectorCustomOption")});e!=null&&(e.setSubtitlesToNonSelected(),d.refreshTagExpansionLabels())}this._selectedOption=a;this._previousParam=this._postParam;this._postParam=c;b("Input").setValue(this.getInput(),c);this._updateTriggerButtonLabelAndIcon();this._updateTooltipAndSavePrivacyIfNeeded();this.inform("changed",{post_param:this._postParam,base_value:this.getSelectedBaseValue()});b("Arbiter").inform("PrivacySelectorBase/changed",this._getChangedData())};d._shouldUpdateTooltips=function(){var a=this._config,b=a.shouldPrefixTooltipApps;a=a.supportsTagExpansion;return b||a&&this._hasTags()||this.getIsCustomOptionSelected()||this.getIsSavedCustomOptionSelected()};d._updateTooltip=function(){this._updateTooltipAndSavePrivacyIfNeededImpl(!1)};d._updateTooltipAndSavePrivacyIfNeeded=function(){this._updateTooltipAndSavePrivacyIfNeededImpl(!0)};d._updateTooltipAndSavePrivacyIfNeededImpl=function(a){this._shouldUpdateTooltips()&&this._updateTooltipToLoading(),this._sendUpdateRequest(a),this._shouldUpdateTooltips()||this._setTooltipValue(this._selectedOption.getTooltip())};d.reloadSelector=function(){this._cleanup();var a=this._config,c=a.entID,d=a.privacyFBID,e=a.renderLocation;a=a.userID;d=b("XPrivacySelectorUpdateController").getURIBuilder().setString("privacy_fbid",d).setString("post_param",this._postParam).setEnum("render_location_enum",e).setBool("reload_selector",!0).setString("ent_id",c).setFBID("user_id",a).getURI();new(b("AsyncRequest"))().setRelativeTo(this.getRoot()).setHandler(this.inform.bind(this,"reloaded")).setURI(d).send()};d._sendUpdateRequest=function(a){var c=this,d={instanceKey:j++};b("QPLUserFlow").start(917557,d);a=a&&this.getIsSavedOnSelect()&&!this._receivingUpdate;var e=this._shouldUpdateTooltips();if(!a&&!e){this._receivingUpdate=!1;return}a&&this._showSpinner();var f=this._config,g=f.entID,h=f.privacyFBID,i=f.renderLocation,k=f.shouldPrefixTooltipApps;f=f.userID;h=b("XPrivacySelectorUpdateController").getURIBuilder().setString("privacy_fbid",h).setString("post_param",this._postParam).setIntVector("tags",this._tags).setEnum("render_location_enum",i).setBool("is_saved_on_select",a).setBool("should_return_tooltip",e).setBool("prefix_tooltip_with_app_privacy",k).setString("ent_id",g).setFBID("user_id",f).getURI();this._updateRequest&&this._updateRequest.abandon();this._updateRequest=new(b("AsyncRequest"))(h).setRelativeTo(this.getRoot()).setHandler(function(e){a&&(c._finishSpinnerSuccess(),c._broadcastUpdate());e=e==null?void 0:(e=e.payload)==null?void 0:e.tooltip;e!=null&&(c._tooltipForSavedCustomErrorRecovery=e,c._setTooltipValue(e));c.inform("selector_updated");b("QPLUserFlow").endSuccess(917557,d)}).setFinallyHandler(function(a){c._receivingUpdate=!1,c._updateRequest=null});a&&this._updateRequest.setErrorHandler(b("bind")(this,function(a){if(this._receivingUpdate){this._displayErrorWithoutFocus();return}this.getSelectableMenu().selectOption(this._previousParam);this._postParam=this._previousParam;this._displayError();this._broadcastError();b("QPLUserFlow").endFailure(917557,"unknown_error",d)}));this._updateRequest.send()};d.animateSavedCustomSave=function(){if(this._isWaitingForSavedCustom)return;this._showSpinner();this._updateTooltipToLoading();this._config.shouldDisplayLabel&&this._updateTriggerToLoading();this._isWaitingForSavedCustom=!0};d.finishAnimatingSavedCustomSave=function(){if(!this._isWaitingForSavedCustom)return;this._finishSpinnerSuccess();this._isWaitingForSavedCustom=!1};d.finishAnimatingSavedCustomSaveOnError=function(){if(!this._isWaitingForSavedCustom)return;this._isWaitingForSavedCustom=!1;this._finishSpinnerSuccess(!1);this._tooltipForSavedCustomErrorRecovery!=null&&this._setTooltipValue(this._tooltipForSavedCustomErrorRecovery)};d._showSpinner=function(){if(!this._shouldDisplaySuccessAndFailure())return;if(!this.getIsSavedOnSelect())return;if(this._spinnerCount===0){var a=this.getTriggerButtonElement(),c=this.getSpinner();b("XUIError").clear(a);b("Button").setIcon(a,c);b("CSS").show(c);b("CSS").hide(this.getCheckmark())}this._spinnerCount++};d._finishSpinnerSuccess=function(a){var c=this;a===void 0&&(a=!0);if(!this._shouldDisplaySuccessAndFailure())return;if(!this.getIsSavedOnSelect())return;this._spinnerCount--;if(this._spinnerCount===0){b("CSS").hide(this.getSpinner());this._updateTriggerButtonLabelAndIcon();if(a){a=this.getCheckmark();if(a){var d=this.getTriggerButtonElement(),e=b("Button").getIcon(d);b("Button").setIcon(d,a);b("CSS").hide(e);new(b("Animation"))(a).show().from("opacity",0).to("opacity",1).duration(400).checkpoint().duration(200).checkpoint().from("opacity",1).to("opacity",0).duration(400).hide().ondone(function(){c._updateTriggerButtonLabelAndIcon(),new(b("Animation"))(e).show().from("opacity",0).to("opacity",1).duration(300).go()}).go()}}}};d._displayError=function(){if(!this._shouldDisplaySuccessAndFailure())return;this._spinnerCount--;this._displayErrorImpl(!0)};d._displayErrorWithoutFocus=function(){this._displayErrorImpl(!1)};d._displayErrorImpl=function(a){if(!this._shouldDisplaySuccessAndFailure())return;var c=this.getTriggerButtonElement(),d=this.getErrorIcon();b("PopoverButton").setLabel(c,h._("\u092a\u094d\u0930\u0947\u0915\u094d\u0937\u0915 \u0928\u093f\u0935\u0921\u093e"));b("Button").setIcon(c,d);b("CSS").show(d);b("TooltipData").remove(c);a&&b("Focus").setWithoutOutline(c);b("XUIError").set({target:c,message:h._("\u0906\u092a\u0932\u0940 \u0928\u093f\u0935\u0921 \u0915\u0926\u093e\u091a\u093f\u0924 \u091c\u0924\u0928 \u0915\u0947\u0932\u0947\u0932\u0940 \u0928\u093e\u0939\u0940. \u0906\u092e\u094d\u200d\u0939\u0940 \u0928\u0902\u0924\u0930 \u092a\u0941\u0928\u094d\u200d\u0939\u093e \u092a\u094d\u0930\u092f\u0924\u094d\u200d\u0928 \u0915\u0930\u0923\u094d\u200d\u092f\u093e\u091a\u0940 \u0936\u093f\u092b\u093e\u0930\u0938 \u0915\u0930\u0940\u0924 \u0906\u0939\u094b\u0924.")})};d.informTagsChanged=function(a){a=this._getTags(a);this.informTagsChangedWithIDs(a)};d.informTagsChangedWithIDs=function(a){this._enqueueAndExecuteSyncUpdate({type:"tags_changed",tags:a})};d._getChangedData=function(){return{tags:this._tags,privacy:this.getSelectedBaseValue()}};d._showTagExpansion=function(){return this._hasTags()};d._getTags=function(a){var c=[],d=b("CurrentUser").getID();if(a.withTags)for(var e=0;e<a.withTags.length;e++){var f=a.withTags[e].info;f.uid!=d&&c.push(f.uid.toString())}if(a.mention)for(var g in a.mention)a.mention[g].type=="user"&&a.mention[g].uid!=d&&c.push(a.mention[g].uid.toString());return c};d._updateTriggerButtonLabelAndIcon=function(){var a=this._config,c=a.shouldDisplayLabel;a=a.triggerNoIcon;if(this._shouldDisplaySuccessAndFailure()&&this._spinnerCount===0){var d=this.getTriggerButtonElement(),e=this._selectedOption.getTriggerIcon();a&&b("CSS").hide(e);b("Button").setIcon(d,e.cloneNode());b("CSS").conditionClass(b("Button").getIcon(d),"_21or",this.getSelectedIconType()==="everyone")}c&&!this._isWaitingForSavedCustom&&b("PopoverButton").setLabel(this.getTriggerButtonElement(),this._selectedOption.getTriggerLabel())};d._getLoadingText=function(){return h._("\u0932\u094b\u0921 \u0915\u0930\u0924 \u0906\u0939\u0947...")};d._updateTooltipToLoading=function(){this._setTooltipValue(this._getLoadingText())};d._updateTriggerToLoading=function(){b("PopoverButton").setLabel(this.getTriggerButtonElement(),this._getLoadingText())};d._setTooltipValue=function(a){var c=this.getTriggerButtonElement();a&&b("TooltipData").set(c,a);a=h._("{audience} \u0938\u0939 \u0938\u093e\u092e\u093e\u092f\u093f\u0915 \u0915\u0947\u0932\u0947",[h._param("audience",a)]);c.setAttribute("aria-label",a.toString())};d._onPopoverClose=function(){if(!this._getSelectedOption())return;this._logInteraction("CLOSE_MENU");this._closeForCustom?this._closeForCustom=!1:this.inform("selectorFinished");this.inform("close");b("Arbiter").inform("PrivacySelectorBase/close")};d._onPopoverOpen=function(){var a=this.getSelectableMenu();if(!(a instanceof b("PrivacySelectableMenu")))return;b("Arbiter").inform("composerprivacy/aborteducation");a.onPopoverOpen(this._getSelectedOption());this._logInteraction("OPEN_MENU");this.inform("open");b("Arbiter").inform("PrivacySelectorBase/open")};d._onMenuLoad=function(){var a=this,b=this.getSelectableMenu();this._listeners&&this._listeners.addSubscriptions(b.subscribe("itemclick",this._onItemClick.bind(this)),this.getPopover().subscribe("hide",this._onPopoverClose.bind(this)),this.getPopover().subscribe("show",this._onPopoverOpen.bind(this)));this._listeners&&this._listeners.addSubscriptions(b.subscribe(["expandMenu","expandMenuWithMore"],function(){a.getPopover()&&a.getPopover().getLayer()&&a.getPopover().getLayer().updatePosition(),a._selectedOption=a._getSelectedOption()}));this._selectedOption=this._getSelectedOption();this._selectedOption&&(this._postParam=this._selectedOption.getPostParam().toString(),this._previousParam=this._postParam,this._hasAudienceExpansion()&&this._updateTriggerButtonLabelAndIcon())};d._hasTags=function(){return this._tags.length>0};d._hasAudienceExpansion=function(){return this._hasTags()};d._shouldDisplaySuccessAndFailure=function(){var a=this._config,b=a.spinnerID,c=a.checkmarkID;a=a.errorIconID;return b!=null&&c!=null&&a!=null};d._logInteraction=function(a){var c=this._config,d=c.contentType,e=c.privacyFBID,f=c.renderLocation;c=c.savedCustomOptIn;d=b("XPrivacySelectorLoggingController").getURIBuilder().setString("content_type",d).setEnum("event",a).setString("privacy_fbid",e).setEnum("render_location",f).setBool("saved_custom_opt_in",c).getURI();new(b("AsyncRequest"))().setURI(d).send()};return a}(b("mixin")(b("ArbiterMixin")));e.exports=k;k._savedCustomSelectorsToUpdate=[];k._sendSavedCustomUpdateRequest=b("debounce")(function(){var a=k._savedCustomSelectorsToUpdate;k._savedCustomSelectorsToUpdate=[];var c={},d={},e=!1;for(var f=a,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(g){if(h>=f.length)break;j=f[h++]}else{h=f.next();if(h.done)break;j=h.value}j=j;c[j._postParam]=!0;d[j._config.triggerStyle]=!0;e=e||j._menu instanceof b("PopoverLoadingMenu")}i._savedCustomUpdateRequest&&i._savedCustomUpdateRequest.abandon();i._savedCustomUpdateRequest=new(b("AsyncRequest"))(b("XPrivacySelectorSavedCustomUpdateController").getURIBuilder().getURI()).setData({has_async_menu:e,post_params:Object.keys(c),trigger_icon_styles:Object.keys(d)}).setHandler(function(c){c=c.payload||{};var d=c.post_param_map||{};c=c.data||{};var e=b("DOM").create("div",{className:"hidden_elem"});for(var f=a,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;var j=d[i._postParam];if(!j)continue;if(i._menu instanceof b("PopoverLoadingMenu")){var k=c[j]||{};i._postParam=j;var l=i._config,m=l.shouldDisplayLabel,n=l.triggerNoIcon;l=l.triggerStyle;if(!n){n=k.icons[l];if(n!=null){b("DOM").setContent(e,n);l=e.firstChild;b("Button").setIcon(i._button,l)}}if(m){n=k.label;n!=null&&b("PopoverButton").setLabel(i._button,n)}}else i._menu instanceof b("PrivacySelectableMenu")&&(i._receivingUpdate=!0,i.selectOption(j),i._receivingUpdate=!1)}b("DOM").remove(e)}).setFinallyHandler(function(){i._savedCustomUpdateRequest=null});i._savedCustomUpdateRequest.send()},10,this)}),null);
__d("FBStoriesPrivacyHelper",["fbt","FBStoriesGating","FBStoriesProductionTypes"],(function(a,b,c,d,e,f,g){"use strict";f.getSelectedAudienceMode=a;f.getEligibleAudienceModesList=c;f.getCustomParticipants=d;f.getBlockedParticipants=e;f.getCustomMenuText=h;function a(a){a=(a=a)!=null?(a=a.unified_stories_setting)!=null?a.audience_mode:a:a;a===b("FBStoriesProductionTypes").UnifiedStoriesAudienceModeTypes.FRIENDS_AND_CONNECTIONS&&b("FBStoriesGating").isFriendsAndConnectionsOptionDeprecated()&&(a=b("FBStoriesProductionTypes").UnifiedStoriesAudienceModeTypes.FRIENDS);return a}function c(a){a=((a=a)!=null?(a=a.stories_data)!=null?a.audience_mode_list:a:a)||[];b("FBStoriesGating").isFriendsAndConnectionsOptionDeprecated()&&(a=a.filter(function(a){return a.unified_stories_audience_mode!==b("FBStoriesProductionTypes").UnifiedStoriesAudienceModeTypes.FRIENDS_AND_CONNECTIONS}));return a}function d(a){return((a=a)!=null?(a=a.unified_stories_setting)!=null?(a=a.custom_participants)!=null?a.nodes:a:a:a)||[]}function e(a){return((a=a)!=null?(a=a.unified_stories_setting)!=null?(a=a.blocked_participants)!=null?a.nodes:a:a:a)||[]}function h(a){var b=a.length;a=a.map(function(a){return(a=a)!=null?(a=a.actor)!=null?a.name:a:a});switch(b){case 0:return g._("\u0924\u0941\u092e\u091a\u0940 \u0915\u0925\u093e \u0915\u094b\u0923\u0940\u0939\u0940 \u092a\u093e\u0939\u0942 \u0936\u0915\u0924 \u0928\u093e\u0939\u0940");case 1:return g._("{name_of_friend_connection} \u0924\u0941\u092e\u091a\u0940 \u0915\u0925\u093e \u092a\u093e\u0939\u0942 \u0936\u0915\u0924\u094b",[g._param("name_of_friend_connection",a[0])]);case 2:return g._("{name_of_first_friend_connection} \u0906\u0923\u093f {name_of_second_friend_connection} \u0924\u0941\u092e\u091a\u0940 \u0915\u0925\u093e \u092a\u093e\u0939\u0942 \u0936\u0915\u0924\u093e\u0924",[g._param("name_of_first_friend_connection",a[0]),g._param("name_of_second_friend_connection",a[1])]);case 3:return g._("{names_of_first_two_friends_connections} \u0906\u0923\u093f {name_of_third_friend_connection} \u0924\u0941\u092e\u091a\u0940 \u0915\u0925\u093e \u092a\u093e\u0939\u0942 \u0936\u0915\u0924\u093e\u0924",[g._param("names_of_first_two_friends_connections",a.slice(0,2).join(", ")),g._param("name_of_third_friend_connection",a[2])]);default:return g._({"*":"{names_of_first_three_friends_connections} \u0906\u0923\u093f \u0907\u0924\u0930 {number} \u091c\u0923 \u0924\u0941\u092e\u091a\u0940 \u0915\u0925\u093e \u092a\u093e\u0939\u0942 \u0936\u0915\u0924\u093e\u0924","_1":"{names_of_first_three_friends_connections} \u0906\u0923\u093f \u0905\u0928\u094d\u092f 1 \u091c\u0923 \u0924\u0941\u092e\u091a\u0940 \u0915\u0925\u093e \u092a\u093e\u0939\u0942 \u0936\u0915\u0924\u093e\u0924"},[g._param("names_of_first_three_friends_connections",a.slice(0,3).join(", ")),g._plural(b-3,"number")])}}}),null);
__d("FBStoriesPrivacySelectorGraphQLSubscriptionHandler",["Button","DOM","FBStoriesGraphQLAPI","FBStoriesPrivacyHelper","Run","SubscriptionsHandler","TooltipData"],(function(a,b,c,d,e,f){"use strict";f.registerForSubscriptionUpdates=a;f._updateSelectorAfterGraphqlSubscription=c;function a(a){var c=this,d=a.button,e=a.buttonLabel,f=a.audienceModeIcons,g=new(b("SubscriptionsHandler"))();g.addSubscriptions(b("FBStoriesGraphQLAPI").subscribeToPrivacyChanges(function(a){c._updateSelectorAfterGraphqlSubscription(a,d,e,f)}));b("Run").onBeforeUnload(function(){g.release()})}function c(a,c,d,e){a=(a=a)!=null?(a=a.unified_stories_privacy_change_subscribe)!=null?a.viewer:a:a;if(!a)return;var f=b("FBStoriesPrivacyHelper").getSelectedAudienceMode(a);a=b("FBStoriesPrivacyHelper").getEligibleAudienceModesList(a);if(!f||!a)return;a=a.find(function(a){return a.unified_stories_audience_mode===f});if(!a)return;b("DOM").setContent(d,a.header);d=e[f];d&&b("Button").setIcon(c,d.cloneNode());b("TooltipData").set(c,a.header)}}),null);
__d("XFamilyMentionsNUXDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/family_mentions/nux_dialog/",{__asyncDialog:{type:"Int"}})}),null);
__d("FamilyRelationshipMentions",["AsyncDialog","AsyncRequest","FamilyMentionsData","XFamilyMentionsNUXDialogController"],(function(a,b,c,d,e,f){a=function(){var a={},c=!1;a.shouldShowNUX=function(a){if(b("FamilyMentionsData").hasAcceptedNUX||c)return!1;var d=a.family_names;if(d==void 0)return!1;for(var e=0;e<d.length;e++)if(d[e]==a.text)return!0;return!1};a.showNUX=function(a,d){var e=b("XFamilyMentionsNUXDialogController").getURIBuilder().getURI();b("AsyncDialog").send(new(b("AsyncRequest"))(e),function(e){e.subscribe("cancel",function(){a.text=a.default_name,new(b("AsyncRequest"))().setURI("/ajax/family_mentions/deny_nux").send(),d(a)}),e.subscribe("confirm",function(){c=!0,new(b("AsyncRequest"))().setURI("/ajax/family_mentions/confirm_nux").send(),d(a),e.finishHide()})})};return a}();e.exports=a}),null);
__d("TypeaheadBestName",["FamilyMentionsData","TokenizeUtil"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this._typeahead=a}var c=a.prototype;c.enable=function(){var a=this._typeahead.getView(),b=this._getAvailableAlternateNameFields();this._subscription=a.subscribe("beforeRender",function(a,c){a=c.value;for(var d=0;d<c.results.length;++d){var e=c.results[d],f=this._getNameToDisplay(e,a,b);f!==null&&(e.text=f,Object.prototype.hasOwnProperty.call(e,"default_name")&&e.text!==e.default_name?e.subtext=e.default_name:e.subtext=null)}}.bind(this))};c.disable=function(){this._typeahead.getView().unsubscribe(this._subscription),this._subscription=null};c._getNameToDisplay=function(a,c,d){if(Object.prototype.hasOwnProperty.call(a,"default_name")&&b("TokenizeUtil").isQueryMatch(c,a.default_name))return a.default_name;for(var e=0;e<d.length;e++){var f=a[d[e]];if(f==void 0)continue;for(var g=0;g<f.length;g++){var h=f[g];if(b("TokenizeUtil").isQueryMatch(c,h))return h}}return Object.prototype.hasOwnProperty.call(a,"default_name")?a.default_name:null};c._getAvailableAlternateNameFields=function(){var a=["alternate_names"];b("FamilyMentionsData").allowFamilyNames&&a.push("family_names");return a};return a}();Object.assign(a.prototype,{_subscription:null});e.exports=a}),null);
__d("legacy:BestNameTypeaheadBehavior",["TypeaheadBestName"],(function(a,b,c,d,e,f){a.TypeaheadBehaviors||(a.TypeaheadBehaviors={}),a.TypeaheadBehaviors.buildBestAvailableNames=function(a){a.enableBehavior(b("TypeaheadBestName"))}}),3);
__d("MentionsInputMatchers",[],(function(a,b,c,d,e,f){a=["@","\\uff20"].join("");var g=["#","\\uFF03"].join("");b=".,+*?$|#{}()\\^\\-\\[\\]\\\\/!%'\"~=<>_:;\n\r";c=b.replace("#","")+"&";var h="\u200b";d=function(){"use strict";function a(a,b){this.$1=a,this.$2=b,this.$3()}var b=a.prototype;b.$3=function(){var a=this.$4(this.$2),b=this.$5(this.$1,this.$2);b=this.$6(this.$1,b);var c=this.$7(a,b);a=this.$8(a);this.$9=new RegExp("["+this.$1+"]$");this.$10=new RegExp(b+"$");this.$11=new RegExp(a+"$");this.$12=new RegExp(c+"$");this.$13=new RegExp("["+g+"]")};b.$4=function(a){return"\\b[A-Z][^ A-Z"+a+h+"]"};b.$5=function(a,b){return"(?:[^"+a+b+"]|["+b+"][^ "+b+"])"};b.$6=function(a,b){return"(?:^|\\s)(["+a+"]("+b+"{0,20}))"};b.$7=function(a,b){return"(?:(?:^|[^#])("+a+"+)|"+b+")"};b.$8=function(a){return"(?:"+a+"{4,})"};b.getMainMatcher=function(){return this.$10};b.getTriggerMatcher=function(){return this.$9};b.getAutoMatcher=function(){return this.$12};b.getHashtagMatcher=function(){return this.$13};return a}();f="\\b[A-Z][^ A-Z"+b+"]";a={mentionsMatchers:new d(a,b),hashtagMatchers:new d(g,c),userMatcher:new RegExp("(?:"+f+"{4,})$")};e.exports=a}),null);
__d("htmlSpecialChars",[],(function(a,b,c,d,e,f){e.exports=a;var g=/&/g,h=/</g,i=/>/g,j=/\"/g,k=/\'/g;function a(a){if(typeof a==="undefined"||a===null||!a.toString)return"";if(a===!1)return"0";else if(a===!0)return"1";return a.toString().replace(g,"&amp;").replace(j,"&quot;").replace(k,"&#039;").replace(h,"&lt;").replace(i,"&gt;")}}),null);
__d("htmlize",["htmlSpecialChars"],(function(a,b,c,d,e,f){e.exports=a;function a(a){return b("htmlSpecialChars")(a).replace(/\r\n|[\r\n]/g,"<br/>")}}),null);
__d("MentionsInput",["cx","Arbiter","ArbiterMixin","Bootloader","CSS","DOM","DataStore","Event","FbtResultBase","FlipDirection","Input","InputSelection","Keys","MentionsInputMatchers","Parent","Style","TokenizeUtil","UserAgent_DEPRECATED","htmlize","mixin","removeFromArray"],(function(a,b,c,d,e,f,g){var h="\u200b",i=new RegExp(h,"g"),j=function(a){return a+h},k=function(a){return a.replace(/(@+)(\[[0-9]+\:([^\]]|\\\])*\]+)/g,"$1 $2")},l=/[\\\]:]/g,m={MENTIONS:"mentions",HASHTAGS:"hashtags"};function n(a,b){return a.replace(b," ".repeat(b.length))}function o(a,b){return a.substring(0,b)+a.substring(b+1)}function p(a){var b=a.lastIndexOf(">");if(b>=0){b=a.indexOf(" ",b);return b>=0?a.substr(0,b+1):a}else return""}function q(a,b,c){a=c.lastIndexOf("<",b)>c.lastIndexOf(">",b);return a?" ":"&nbsp;<wbr />"}a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,g,h){var i;i=a.call(this)||this;b("DataStore").set(c,"MentionsInput",babelHelpers.assertThisInitialized(i));i._root=c;i._typeahead=d;i._input=e;i._offsets=[];c=null;var j=i.init.bind(babelHelpers.assertThisInitialized(i),f,g,h);try{c=document.activeElement===i._input}catch(a){}if(c)setTimeout(j,0);else var k=b("Event").listen(i._input,"focus",function(){setTimeout(j,0),k.remove()});i._hasHashtags=f.hashtags;i._mentionsDataSource=i._typeahead.getData();i._currentDataSource=i._mentionsDataSource;i._autoSuggestPages=f.autosuggest_pages;i._lastHighlighterHTML="";i._hashtags=[];i._matchers=b("MentionsInputMatchers").mentionsMatchers;i._matchersMode=m.MENTIONS;return i}var d=c.prototype;d.init=function(a,c,d){if(this._initialized)return;this._initValue=c?c.value:"";this._highlighter=b("DOM").find(this._root,".highlighter");this._highlighterInner=this._highlighter.firstChild;this._highlighterContent=b("DOM").find(this._root,".highlighterContent");this._hiddenInput=b("DOM").find(this._root,".mentionsHidden");this._placeholder=this._input.getAttribute("placeholder")||"";this._metrics=d;if(!this._hiddenInput.name){a=this._input.name;this._input.name=a+"_text";this._hiddenInput.name=a}this._initEvents();this._initTypeahead();c===null?this._setup():this.reset(c);this.inform("init",null,"state");this._initialized=!0};d._setup=function(){this._mentioned={},this._orderedUIDs=[],this._numMentioned=0,this._filterData=null,this._highlighterContent&&b("DOM").empty(this._highlighterContent),this._highlighterAuxContent&&b("DOM").remove(this._highlighterAuxContent),this._highlighterAuxContent=null,b("Input").setPlaceholder(this._input,this._placeholder),b("Style").set(this._typeahead.getElement(),"height","auto")};d.reset=function(a){this._setup();var c=a&&a.value||"";this._value=c;this._hiddenInput&&(this._hiddenInput.value=c);this._input&&a&&b("Input").setValue(this._input,a.value);a=a&&a.mentions;if(a&&a.length){var d=[];a.forEach(function(a){d.push(a.offset+a.length),delete a.offset,delete a.length,this._addToken(a)},this);d.reverse().forEach(function(a){c=c.substring(0,a)+h+c.substring(a)})}b("Input").setValue(this._input,c);this._value===""&&b("FlipDirection").setDirection(this._input);this._update()};d.getValue=function(){return b("Input").getValue(this._input).replace(i,"")};d._getMarkedValue=function(){return b("Input").getValueRaw(this._input)};d.getRawValue=function(){this._update();return b("Input").getValue(this._hiddenInput)};d.checkValue=function(){var a=this._typeahead.getCore().getValue();(this._matchers.getTriggerMatcher().exec(a)||a==="")&&this.inform("sessionEnd",{})};d.getTypeahead=function(){return this._typeahead};d.hasChanges=function(){return!b("Input").isEmpty(this._input)&&this._input.value!==this._initValue&&this._initialized};d.focus=function(){this._input.focus()};d._initEvents=function(){var a=this._update.bind(this);b("Event").listen(this._input,{input:a,keyup:a,change:a,blur:this._handleBlur.bind(this),focus:this._handleFocus.bind(this),keydown:this._handleKeydown.bind(this)});this._metrics&&(this._metrics.init(this._typeahead),this._metrics._reset(),this._metrics.bindSessionStart(this._typeahead,"render",!0),this._metrics.bindSessionEnd(this._typeahead.getView(),"select",!0),this._metrics.bindSessionEnd(this,"sessionEnd",!1),b("Event").listen(this._input,"keyup",function(a){setTimeout(this.checkValue.bind(this),0)}.bind(this)))};d._initTypeahead=function(){this._typeahead.subscribe("select",function(a,b){a=b.selected;this._addToken({uid:a.uid,text:a.text,type:a.type,weakreference:a.weak_reference});this.updateValue()}.bind(this));var a=this._input,c=null;function d(){c===null&&(c=b("Input").getSubmitOnEnter(a),b("Input").setSubmitOnEnter(a,!1))}function e(){c!==null&&(b("Input").setSubmitOnEnter(a,c),c=null)}this._typeahead.subscribe("reset",e);this._typeahead.subscribe("render",d);this._typeahead.subscribe("highlight",function(a,b){b.index>=0?d():e()});this._typeahead.subscribe("query",function(){this._filterData=null}.bind(this));var f=this._typeahead.getCore();f.suffix=h;this._handleFocus()};d._handleBlur=function(){this._filterToken&&(this._filterToken.remove(),this._filterToken=null)};d._handleFocus=function(){this._filterToken||(this._filterToken=this._typeahead.getData().addFilter(this._filterResults.bind(this))),this._updateWidth()};d._handleKeydown=function(a){var c=a.keyCode;(c==b("Keys").BACKSPACE||c==b("Keys").DELETE)&&this._handleBackspaceAndDelete(a,c);(c==b("Keys").LEFT||c==b("Keys").RIGHT)&&setTimeout(this._handleLeftAndRight.bind(this,c),10)};d._handleLeftAndRight=function(a){var c=this._getMarkedValue(),d=b("InputSelection").get(this._input),e=d.start;d=d.end;var f=a==b("Keys").LEFT;a=a==b("Keys").RIGHT;if(e==d){var g=f?-1:1;c.charAt(e)==h&&b("InputSelection").set(this._input,e+g)}else f&&c.charAt(e)==h?b("InputSelection").set(this._input,e-1,d):f&&c.charAt(d)==h?b("InputSelection").set(this._input,e,d-1):a&&c.charAt(d)==h?b("InputSelection").set(this._input,e,d+1):a&&c.charAt(e)==h&&b("InputSelection").set(this._input,e+1,d)};d._handleBackspaceAndDelete=function(a,c){var d=b("InputSelection").get(this._input),e=!1;if(d.start!==d.end)if(this._offsetIsInsideMention(d.start+1)&&this._offsetIsInsideMention(d.end))e=c===b("Keys").BACKSPACE;else return;c=c===b("Keys").DELETE?1:-1;c=c+(e?d.end:d.start);e=this._getMarkedValue();d=e;for(var f=0;f<this._orderedUIDs.length;++f){var g=this._mentioned[this._orderedUIDs[f]],h=g.text,i=j(h),k=d.indexOf(i),l=k+i.length;if(c<k||c>=l){d=n(d,i);continue}var m,o;g.type!="user"?(m=0,o=[h]):(m=i.substring(0,c-k).split(" ").length-1,o=h.split(" "));i=o.splice(m,1)[0];h=o.join(" ");o=m===0?k:l-i.length-1;h?(g.text=h,h=j(h)):this._removeToken(g.uid);m=e.substring(0,k)+h+e.substring(l);b("Input").setValue(this._input,m);b("InputSelection").set(this._input,o);this._update();a.kill();break}};d._offsetIsInsideMention=function(a){for(var b=0;b<this._offsets.length;b++)if(a>this._offsets[b][0]&&a<=this._offsets[b][1])return!0;return!1};d._filterResults=function(a){if(this._filterData===null){var c=b("InputSelection").get(this._input).start;if(this._offsetIsInsideMention(c)){this._filterData={caretIsInsideMention:!0};return!1}c=this._typeahead.getCore();this._filterData={value:c.getValue(),rawValue:c.getRawValue()}}if(this._filterData.caretIsInsideMention)return!1;if(this._matchers.getMainMatcher().test(this._filterData.rawValue))return!0;if(a.type!="user"&&!a.connected_page)return!1;if(a.disable_autosuggest)return!1;return this._matchersMode===m.MENTIONS&&b("MentionsInputMatchers").userMatcher.test(this._filterData.value)?!0:b("TokenizeUtil").isExactMatch(this._filterData.value,this._typeahead.getData().getTextToIndex(a))};d._addToken=function(a){var b=a.uid;if(!Object.prototype.hasOwnProperty.call(this._mentioned,b)){this._mentioned[b]=a;a=this._orderedUIDs;var c=k(this._getMarkedValue()),d=c.indexOf(j(this._mentioned[b].text)),e=!1,f=0;for(var g=0;g<a.length;++g){var h=j(this._mentioned[a[g]].text),i=c.indexOf(h,f);f=i+h.length;if(d<i){this._orderedUIDs.splice(g,0,b);e=!0;break}}e||this._orderedUIDs.push(b);this._numMentioned++;this._update()}};d._removeToken=function(a){Object.prototype.hasOwnProperty.call(this._mentioned,a)&&(delete this._mentioned[a],b("removeFromArray")(this._orderedUIDs,a),this._numMentioned--,this._update())};d._update=function(a){a||({});a=this._getMarkedValue();this._checkShouldSwapDataSource(a);if(a==this._value)return;this._value=a;this._updateTypeahead();this._updateMentions();this._updateWidth();setTimeout(this._updateDirection.bind(this),0);this.updateValue();var b=this.hasAuxContent(),c=this._hiddenInput.value;this.inform("valueUpdate",{value:a,hasAuxContent:b,textWithMentions:c})};d._updateMentions=function(){this._offsets=[];var a=this._getMarkedValue(),c=a;for(var d=0;d<this._orderedUIDs.length;++d){var e=this._orderedUIDs[d],f=j(this._mentioned[e].text),g=c.indexOf(f);g==-1&&this._removeToken(e);c=n(c,f);this._offsets.push([g,g+f.length])}e=a;while((g=c.indexOf(h))>-1)e=o(e,g),c=o(c,g);if(a!==e){f=b("InputSelection").get(this._input);b("Input").setValue(this._input,e);b("InputSelection").set(this._input,f.start);this._value=e}};d._renderHashtags=function(a){this._initHashtagParser(a);if(!this._hasHashtags||!this._hashtagParser)return b("htmlize")(a);this._hashtags=this._hashtagParser.parse(a);var c=[],d=0;for(var e=0;e<this._hashtags.length;e++){var f=this._hashtags[e];c.push(b("htmlize")(a.substring(d,f.rawOffset)),"<b>",f.marker,f.tag,"</b>");d=f.rawOffset+f.marker.length+f.tag.length}c.push(b("htmlize")(a.substring(d)));return c.join("")};d.updateValue=function(){var a=this._value=this._getMarkedValue(),c=this._orderedUIDs,d=k(a);for(var e=0;e<c.length;++e){var f="@["+c[e]+":]",g=j(this._mentioned[c[e]].text);d=d.replace(g,f);a=a.replace(g,f)}g=this._renderHashtags(a);for(var e=0;e<c.length;++e){f=c[e];a=this._mentioned[f];var h=a.text;a=a.weakreference?'<b class="weak">':"<b>";g=g.replace("@["+f+":]",a+b("htmlize")(j(h))+"</b>");h=h.replace(l,function(a){return"\\"+a});d=d.replace("@["+f+":]","@["+f+":"+h+"]")}a=p(g);(this._highlighterAuxContent||a!==this._lastHighlighterHTML)&&(b("UserAgent_DEPRECATED").ie()<9&&(g=g.replace(/ /g,q)),this._highlighterContent.innerHTML=g,this._updateHighlighter(),this._lastHighlighterHTML=a);this._hiddenInput.value=d;this._updateHeight()};d._updateDirection=function(){var a=b("Style").get(this._input,"direction");if(a==this._dir)return;this._dir=a;b("Style").set(this._highlighter,"direction",a);a=="rtl"?b("Style").set(this._highlighter,"text-align","right"):b("Style").set(this._highlighter,"text-align","left")};d._updateWidth=function(){var a=this._input.offsetWidth;if(a===this._lastInputWidth)return;this._lastInputWidth=a;var c=b("Style").getFloat.bind(null,this._input);a=a-c("paddingLeft")-c("paddingRight")-c("borderLeftWidth")-c("borderRightWidth");this._highlighterInner.style.width=Math.max(a,0)+"px"};d._updateHeight=function(){if(this._highlighterAuxContent){var a=this._highlighter.offsetHeight,c=this._typeahead.getElement();a>c.offsetHeight&&(this._typeahead.setHeight(a),b("Arbiter").inform("reflow"))}};d._updateTypeahead=function(){var a=this._typeahead.getCore();a.matcher=this._matchers.getAutoMatcher();a.setExclusions(this._orderedUIDs);this.inform("update",{mentioned:this._mentioned})};d.setPlaceholder=function(a){this._placeholder=a instanceof b("FbtResultBase")?a.toString():a,this.hasAuxContent()||b("Input").setPlaceholder(this._input,this._placeholder)};d._updateHighlighter=function(){this._highlighterContent&&b("CSS").conditionShow(this._highlighterContent,this._numMentioned>0||this.hasAuxContent()||this._hashtags.length)};d.setAuxContent=function(a){this._highlighterContent&&(this._highlighterAuxContent||(this._highlighterAuxContent=b("DOM").create("span",{className:"highlighterAuxContent"}),b("DOM").insertAfter(this._highlighterContent,this._highlighterAuxContent)),b("DOM").setContent(this._highlighterAuxContent,a),a?b("Input").setPlaceholder(this._input,""):b("Input").setPlaceholder(this._input,this._placeholder),this._value=null,this._update(),this._updateHighlighter(),this._updateHeight())};d.hasAuxContent=function(){var a=this.getAuxContentRoot();return a&&b("CSS").shown(a)&&a.innerHTML.length>0};d.getAuxContentRoot=function(){return this._highlighterAuxContent};d.addMention=function(a,c){c=typeof c==="undefined"?!0:c;c=c===!1?"":" ";var d=this._getMarkedValue();d!==""&&(d+=" ");b("Input").setValue(this._input,d+j(a.text)+c);this._addToken(a);this._update()};d.getMentions=function(){return this._mentioned};d.bootloadHashtagParser=function(){this._hashtagParser||b("Bootloader").loadModules(["HashtagParser"],function(a){this._hashtagParser=a,this._initialized&&(this._value=null,this._update())}.bind(this),"MentionsInput")};c.getInstance=function(a){a=b("Parent").byClass(a,"uiMentionsInput");return a?b("DataStore").get(a,"MentionsInput"):null};d._checkShouldSwapDataSource=function(a){this._initHashtagParser(a)};d._initHashtagParser=function(a){if(this._hashtagParser)return;this._matchers.getHashtagMatcher().exec(a)&&this.bootloadHashtagParser()};return c}(b("mixin")(b("ArbiterMixin")));e.exports=a}),null);
__d("legacy:MentionsInput",["MentionsInput"],(function(a,b,c,d,e,f){a.MentionsInput=b("MentionsInput")}),3);
__d("MentionsTypeaheadAreaView",["ContextualTypeaheadView","FamilyRelationshipMentions","Parent"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getContext=function(){return b("Parent").byClass(this.element,"uiMentionsInput")};d.shouldValidateTypeaheadSelection=function(a){return b("FamilyRelationshipMentions").shouldShowNUX(a)};d.validateTypeaheadSelection=function(a,c){b("FamilyRelationshipMentions").showNUX(a,c)};return c}(b("ContextualTypeaheadView"));e.exports=a}),null);
__d("ClearableTypeahead",["Event"],(function(a,b,c,d,e,f){a={resetOnCloseButtonClick:function(a,c){b("Event").listen(c,"click",function(){var b=a.getCore();b.getElement().focus();b.reset()})}};e.exports=a}),null);
__d("TypeaheadAreaCore",["InputSelection","TextAreaControl","TypeaheadCore","emptyFunction"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.matcher=new RegExp(b.matcher+"$");b.preventFocusChangeOnTab=!0;return b}var d=c.prototype;d.select=function(c){a.prototype.select.call(this,c);var d=this.element.value;c=this.prefix+c.text+this.suffix;this.expandBounds(d,c);var e=d.substring(0,this.start);d=d.substring(this.end);this.element.value=e+c+d;b("InputSelection").set(this.element,e.length+c.length)};d.expandBounds=function(a,b){a=a.toLowerCase();b=b.toLowerCase();var c,d,e,f,g=/\s/;d=a.substring(this.start,this.end);e=b.indexOf(d);c=this.start;while(c>=0&&e>=0)f=a.charAt(c-1),(!f||g.test(f))&&(this.start=c),d=f+d,e=b.indexOf(d),c--;d=a.substring(this.start,this.end);e=b.indexOf(d);c=this.end;while(c<=a.length&&e>=0)f=a.charAt(c),(!f||g.test(f))&&(this.end=c),d=d+f,e=b.indexOf(d),c++};d.getRawValue=function(){var c=b("InputSelection").get(this.element).start||0;return a.prototype.getValue.call(this).substring(0,c)};d.getValue=function(){var a=this.matcher&&this.matcher.exec(this.getRawValue());if(!a)return"";var b=a[0],c=a.index+b.length;b=b.replace(/^\s/,"");var d=b.length;b=b.replace(/\s$/,"");b=d-b.length;this.start=c-d;this.end=c+b;return a[2]&&(a[2].charAt(0)==="#"||a[2].charAt(0)==="\\uFF03")?a[2]:a[3]||a[1]||a[0]};d.updateHeight=function(){var a=b("TextAreaControl").getInstance(this.element);a.updateHeight()};return c}(b("TypeaheadCore"));Object.assign(a.prototype,{prefix:"",suffix:", ",matcher:"\\b[^,]*",click:b("emptyFunction")});e.exports=a}),null);
__d("TypeaheadHoistFriends",[],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this._typeahead=a}var b=a.prototype;b.enable=function(){var a=this._typeahead.getView();this._subscription=a.subscribe("beforeRender",function(a,b){a=[];var c=[],d=[];for(var e=0;e<b.results.length;++e){var f=b.results[e];f.type=="header"?(d=d.concat(c,a),d.push(f),c=[],a=[]):f.type=="user"&&f.bootstrapped?c.push(f):a.push(f)}b.results=d.concat(c,a)})};b.disable=function(){this._typeahead.getView().unsubscribe(this._subscription),this._subscription=null};return a}();Object.assign(a.prototype,{_subscription:null});e.exports=a}),null);
__d("legacy:HoistFriendsTypeaheadBehavior",["TypeaheadHoistFriends"],(function(a,b,c,d,e,f){a.TypeaheadBehaviors||(a.TypeaheadBehaviors={}),a.TypeaheadBehaviors.hoistFriends=function(a){a.enableBehavior(b("TypeaheadHoistFriends"))}}),3);
__d("TypeaheadSetPhotoOnSelect",["CSS","DOM","Event"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this._typeahead=a}var c=a.prototype;c.enable=function(){var a=b("DOM").scry(this._typeahead.getElement(),".photo")[0];if(a){if(!b("DOM").isNodeOfType(a,"img")){var c=b("DOM").create("img",{className:a.className});b("DOM").replace(a,c);a=c}var d=b("CSS").hide.bind(null,a);c=b("CSS").show.bind(null,a);this._eventListener=b("Event").listen(a,{load:c,error:d,abort:d});this._subscription=this._typeahead.subscribe("select",function(b,c){b=c.selected.photo||this._typeahead.view.fallbackPhoto;b?a.setAttribute("src",b):d()}.bind(this))}};c.disable=function(){this._eventListener.remove(),this._eventListener=null,this._typeahead.unsubscribe(this._subscription),this._subscription=null};return a}();Object.assign(a.prototype,{_eventListener:null,_subscription:null});e.exports=a}),null);
__d("legacy:SetPhotoOnSelectTypeaheadBehavior",["TypeaheadSetPhotoOnSelect"],(function(a,b,c,d,e,f){a.TypeaheadBehaviors||(a.TypeaheadBehaviors={}),a.TypeaheadBehaviors.setPhotoOnSelect=function(a){a.enableBehavior(b("TypeaheadSetPhotoOnSelect"))}}),3);
__d("TypeaheadPreventSubmitOnEnter",["Event","Keys"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this._typeahead=a}var c=a.prototype;c.enable=function(){var a=this._typeahead.getCore().getElement();this._listener=b("Event").listen(a,"keypress",function(a){b("Event").getKeyCode(a)==b("Keys").RETURN&&a.kill()})};c.disable=function(){this._listener.remove(),this._listener=null};return a}();Object.assign(a.prototype,{_listener:null});e.exports=a}),null);
__d("TypeaheadShowResultsOnFocus",["Event","Keys"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this._typeahead=a}var c=a.prototype;c.enable=function(){this._typeahead.getCore().resetOnKeyup=!1,this._subscription=this._typeahead.subscribe("bootstrap",function(a,b){this.firstFetch(b,this._typeahead.getCore(),this._typeahead.getData())}.bind(this)),this._keyUpListener=b("Event").listen(this._typeahead.getCore().getElement(),"keyup",function(a){(b("Event").getKeyCode(a)==b("Keys").BACKSPACE||b("Event").getKeyCode(a)==b("Keys").DELETE)&&this.respond(this._typeahead.getCore(),this._typeahead.getData())}.bind(this)),this._focusListener=b("Event").listen(this._typeahead.getCore().getElement(),"focus",function(a){this.respond(this._typeahead.getCore(),this._typeahead.getData())}.bind(this))};c.disable=function(){this._typeahead.unsubscribe(this._subscription),this._subscription=null,this._keyUpListener.remove(),this._keyUpListener=null,this._focusListener.remove(),this._focusListener=null};c.firstFetch=function(a,b,c){a.bootstrapping||this.respond(b,c)};c.respond=function(a,b){a.getValue()||this.refreshAndShowNeededResults(a,b)};c.refreshAndShowNeededResults=function(a,b){var c=this.getUidsFromData(b);a.setValue("");a=b.buildUids(" ",c);b.respond("",a)};c.getUidsFromData=function(a){a=a.getAllEntries();var b=[];for(var c in a)b.push({uid:a[c].uid,index:a[c].index});b.sort(function(a,b){return a.index-b.index});return b.map(function(a){return a.uid})};return a}();Object.assign(a.prototype,{_subscription:null,_keyUpListener:null,_focusListener:null});e.exports=a}),null);
__d("TypeaheadShowBootstrapOnFocus",["TypeaheadShowResultsOnFocus"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;b._uids=[];return b}var c=b.prototype;c.getMaxBootstrapEntries=function(){return 3};c.cacheUids=function(){return!0};c.firstFetch=function(a,b,c){a.bootstrapping||(this.cacheUids()&&(this._uids=this.getUidsFromData(c)),this.respond(b,c))};c.respond=function(a,b){if(!a.getValue()){a.setValue("");a=this.cacheUids()?this._uids:this.getUidsFromData(b);a=b.buildUids(" ",a);b.respond("",a)}};c.getUidsFromData=function(a){a=a.getAllEntries();var b=[];for(var c in a)a[c].bootstrapped&&b.push({uid:a[c].uid,index:a[c].index});b.sort(function(a,b){return a.index-b.index});this.getMaxBootstrapEntries()&&(b=b.slice(0,this.getMaxBootstrapEntries()));return b.map(function(a){return a.uid})};return b}(b("TypeaheadShowResultsOnFocus"));e.exports=a}),null);
__d("TypeaheadShowAllBootstrapOnFocus",["TypeaheadShowBootstrapOnFocus"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getMaxBootstrapEntries=function(){return void 0};c.cacheUids=function(){return!1};return b}(b("TypeaheadShowBootstrapOnFocus"));e.exports=a}),null);
__d("OGComposerObjectTypeaheadRenderer",["CompactTypeaheadRenderer","DOM"],(function(a,b,c,d,e,f){function a(a,c){c=b("CompactTypeaheadRenderer")(a,c);a=a.icon;a&&b("DOM").prependContent(c,a);return c}a.className=b("CompactTypeaheadRenderer").className;e.exports=a}),null);
__d("SharerQuotation",["CSS","DOM"],(function(a,b,c,d,e,f){"use strict";f.addCloseListener=a;f.init=c;var g=null,h=null;function a(a){a.addEventListener("click",function(){h&&b("CSS").hide(h),g&&(g.value="")})}function c(a,c){a.value&&(g=a,h=c);if(!window.opener)return;var d=!1,e=null;try{d=window.opener.location.pathname.indexOf("/plugins/quote")!==-1,e=window.opener.document.getElementById("quotationtext")}catch(a){}if(d&&e&&e.value){a.value=e.value;d=c.getElementsByClassName("share-quote-text-text");b("DOM").setContent(d[0],a.value);b("CSS").show(c);g=a;h=c}}}),null);